{"version":3,"file":"static/js/2331.3440b3a5.chunk.js","mappings":"yMAIqT,MAAMA,EAAEA,IAAIC,EAAAA,EAAEC,UAAU,iCAAwC,MAAMC,EAAE,kBAAOC,CAAYC,EAAEJ,EAAEK,GAAG,OAAO,IAAIH,EAAEE,EAAEE,EAAAA,GAAEC,qBAAqBP,EAAEK,EAAE,CAAC,mBAAOG,CAAaJ,EAAEJ,EAAEK,GAAG,OAAO,IAAIH,EAAEE,EAAEE,EAAAA,GAAEG,aAAaT,EAAEK,EAAE,CAAC,oBAAOK,CAAcN,EAAEJ,EAAEK,GAAG,OAAO,IAAIH,EAAEE,EAAEE,EAAAA,GAAEK,eAAeX,EAAEK,EAAE,CAAC,sBAAOO,CAAgBR,GAAoB,IAAlBJ,EAACa,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACG,EAAAA,GAAEC,YAAYZ,EAACQ,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAE,MAAMG,EAAE,IAAIhB,EAAEE,EAAEE,EAAAA,GAAEa,kBAAkBnB,GAAG,OAAOK,GAAGa,EAAEE,QAAQf,GAAGa,CAAC,CAAC,wBAAOG,CAAkBjB,GAAoB,IAAlBJ,EAACa,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACG,EAAAA,GAAEM,YAAYjB,EAACQ,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAE,OAAO,IAAIb,EAAEE,EAAEE,EAAAA,GAAEiB,oBAAoBvB,EAAEK,EAAE,CAAC,8BAAOmB,CAAwBpB,GAAoB,IAAlBJ,EAACa,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACG,EAAAA,GAAES,YAAYpB,EAACQ,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAE,MAAMG,EAAE,IAAIhB,EAAEE,EAAEE,EAAAA,GAAEoB,0BAA0B1B,GAAG,OAAOkB,EAAEE,QAAQf,GAAGa,CAAC,CAACS,WAAAA,CAAYvB,EAAEJ,EAAEK,EAAEa,GAAGU,KAAKC,SAASzB,EAAEwB,KAAKE,WAAW9B,EAAE4B,KAAKG,MAAM1B,EAAEuB,KAAKI,QAAQ,KAAKJ,KAAKK,OAAO,EAAEL,KAAKM,gBAAW,EAAO9B,EAAE+B,gBAAgBC,UAAUC,EAAAA,GAAEC,aAAaV,MAAMA,KAAKI,QAAQJ,KAAKC,SAASU,GAAGC,gBAAeC,EAAAA,EAAAA,IAAEb,KAAKC,SAASU,IAAIrB,GAAGU,KAAKc,QAAQxB,EAAE,CAAC,UAAIyB,GAAS,OAAOf,KAAKI,OAAO,CAAC,QAAIY,GAAO,OAAOhB,KAAKK,KAAK,CAAC,aAAIY,GAAY,OAAOjB,KAAKM,UAAU,CAAC,cAAIY,GAAa,OAAOlB,KAAKE,aAAaxB,EAAAA,GAAEC,qBAAqBqB,KAAKM,aAAaa,EAAAA,GAAEC,aAAa,EAAEpB,KAAKK,MAAM,EAAEL,KAAKK,MAAML,KAAKK,KAAK,CAAC,eAAIgB,GAAc,OAAOrB,KAAKE,aAAaxB,EAAAA,GAAEC,sBAAsBqB,KAAKE,aAAaxB,EAAAA,GAAEG,YAAY,CAACyC,OAAAA,GAAS,IAAAC,EAAiB,QAAhBA,EAAGvB,KAAKC,gBAAQ,IAAAsB,GAAbA,EAAeZ,IAAOX,KAAKI,UAASJ,KAAKC,SAASU,GAAGa,aAAaxB,KAAKI,SAASJ,KAAKI,QAAQ,MAAKJ,KAAKC,SAASM,gBAAgBkB,UAAUhB,EAAAA,GAAEC,aAAaV,MAAMA,KAAKC,SAAS,MAAUD,KAAKI,SAASjC,IAAIuD,KAAK,6BAA6B,CAAClC,OAAAA,CAAQhB,GAAS,IAAPJ,EAACa,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,KAAM,GAAGT,GAAG,GAAGL,IAAIwD,MAAM,qCAAqC3B,KAAKE,aAAaxB,EAAAA,GAAEC,sBAAsB,MAAMP,EAAE,OAAO4B,KAAKM,WAAWlC,EAAEA,GAAG,KAAK+C,EAAAA,GAAES,eAAepD,GAAG,EAAE,MAAM,KAAK2C,EAAAA,GAAEC,aAAa5C,GAAG,EAAEwB,KAAK6B,eAAerD,EAAE,CAACsC,OAAAA,CAAQtC,GAAG,IAAIA,EAAE,OAAO,IAAIJ,EAAEI,EAAEsD,WAAW9B,KAAKE,aAAaxB,EAAAA,GAAEC,wBAAuBF,EAAAA,EAAAA,IAAED,KAAKJ,GAAG,EAAE4B,KAAKM,WAAWa,EAAAA,GAAES,iBAAgBtC,EAAAA,EAAAA,IAAEd,KAAKJ,GAAG,EAAE4B,KAAKM,WAAWa,EAAAA,GAAEC,eAAepB,KAAK6B,eAAezD,EAAEI,EAAE,CAACqD,cAAAA,CAAerD,GAAS,IAAPJ,EAACa,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,KAAMe,KAAKK,MAAM7B,EAAE,MAAMC,EAAEuB,KAAKC,SAAS8B,cAAc/B,KAAKqB,aAAarB,KAAKC,SAAS+B,QAAQ,MAAMhC,KAAKC,SAASgC,WAAWjC,MAAM,MAAMV,EAAEU,KAAKC,SAASU,GAAG,MAAMvC,EAAEkB,EAAE4C,WAAWlC,KAAKE,WAAW9B,EAAE4B,KAAKG,OAAOb,EAAE4C,WAAWlC,KAAKE,WAAW1B,EAAEwB,KAAKG,QAAOU,EAAAA,EAAAA,IAAEvB,GAAGU,KAAKqB,aAAarB,KAAKC,SAAS+B,QAAQvD,EAAE,CAAC0D,UAAAA,CAAW3D,EAAEJ,EAAEK,EAAEa,GAAG,IAAId,EAAE,QAAQJ,EAAE,GAAGA,EAAEI,EAAE4D,mBAAmBpC,KAAKkB,aAAa/C,IAAIwD,MAAM,2BAA2BlD,GAAGa,GAAGnB,IAAIwD,MAAM,mCAAmCvD,GAAGkB,EAAEb,IAAID,EAAE4D,kBAAkBpC,KAAKkB,YAAY/C,IAAIwD,MAAM,qDAAqD,MAAMjD,EAAEsB,KAAKC,SAAS8B,cAAc/B,KAAKqB,aAAarB,KAAKC,SAAS+B,QAAQ,MAAMhC,KAAKC,SAASgC,WAAWjC,MAAM,MAAMW,GAAGvB,GAAGY,KAAKC,SAASb,EAAEiD,cAAcrC,KAAKE,WAAW9B,EAAEI,EAAE4D,kBAAkB5D,EAAEC,EAAEa,EAAEb,IAAGoC,EAAAA,EAAAA,IAAEzB,GAAGY,KAAKqB,aAAarB,KAAKC,SAAS+B,QAAQtD,EAAE,CAAC4D,UAAAA,CAAW9D,GAAU,IAARJ,EAACa,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,EAAER,EAACQ,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAACG,EAACL,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAE,GAAGV,EAAE,GAAGa,EAAE,EAAE,YAAYnB,IAAIwD,MAAM,mEAAmE,MAAMd,EAAovB,SAAWzC,GAAG,OAAOI,EAAAA,EAAAA,IAAEJ,EAAE,CAA3wBmE,CAAE/D,GAAGA,EAAE4D,kBAAkB,EAAE,GAAGvB,IAAK,OAADpC,QAAC,IAADA,EAAAA,EAAG,IAAK,OAADa,QAAC,IAADA,EAAAA,EAAG,IAAId,EAAEsD,WAAW,YAAY3D,IAAIwD,MAAM,yEAAyEvD,EAAEyC,GAAI,OAADvB,QAAC,IAADA,EAAAA,EAAG,GAAGU,KAAKkB,YAAY/C,IAAIuD,KAAK,0EAA0E,MAAMtC,EAAEY,KAAKC,SAASU,GAAGX,KAAKE,aAAaxB,EAAAA,GAAEoB,2BAA2BE,KAAKC,SAASgC,WAAWjC,KAAKtB,EAAAA,GAAEoB,2BAA2BV,EAAEoD,iBAAiB9D,EAAAA,GAAEoB,0BAA0B1B,EAAEI,EAAEC,EAAEa,GAAGU,KAAKC,SAASwC,aAAa/D,EAAAA,GAAEoB,6BAA6BE,KAAKC,SAASgC,WAAWjC,KAAKtB,EAAAA,GAAEgE,kBAAkBtD,EAAEoD,iBAAiB9D,EAAAA,GAAEgE,iBAAiBtE,EAAEI,EAAEC,EAAEa,GAAGU,KAAKC,SAASwC,aAAa/D,EAAAA,GAAEgE,kBAAkB,CAAC,qBAAMC,CAAgBnE,GAAU,IAARJ,EAACa,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,EAAER,EAACQ,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAACG,EAACL,UAAAC,OAAA,EAAAD,UAAA,QAAAE,QAAQa,KAAKC,SAAS2C,kBAAkB5C,KAAKsC,WAAW9D,EAAEJ,EAAEK,EAAEa,EAAE,E,wICAlsG,MAAMuD,EAAE9C,WAAAA,CAAY3B,EAAEI,GAAS,IAAPc,EAACL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,KAAMe,KAAKC,SAAS7B,EAAE4B,KAAKI,QAAQ,KAAKJ,KAAK8C,kBAAkB,IAAIC,IAAI/C,KAAKgD,oBAAoB,KAAKhD,KAAKiD,qBAAqB,KAAKjD,KAAKkD,cAAa,EAAG9E,EAAEmC,gBAAgBC,UAAU/B,EAAAA,GAAE0E,kBAAkBnD,MAAM,MAAMa,EAAE0B,EAAE/D,GAAGA,EAAE,IAAI4E,EAAAA,EAAEpD,KAAKC,SAASzB,GAAG,GAAGwB,KAAK8C,kBAAkBO,IAAI/E,EAAAA,GAAEgF,kBAAkBzC,GAAGb,KAAKuD,2BAA2B1C,EAAE2C,YAAYxD,KAAKyD,8BAA8BnF,EAAAA,GAAEgF,mBAAmB,MAAMhE,EAAE,GAAijR,SAAWlB,GAAG,OAAOmE,EAAEnE,IAAI,MAAMA,GAAG,gBAAgBA,CAAC,CAAnmRsF,CAAEpE,GAAGU,KAAKC,SAAS0D,aAAaC,cAAcC,QAAQlC,MAAM,6FAA6F3B,KAAKiD,qBAAqBV,EAAEjD,GAAGA,EAAE,IAAI8D,EAAAA,EAAEpD,KAAKC,SAASX,GAAGU,KAAKuD,2BAA2BvD,KAAKiD,qBAAqBO,gBAAgB,CAAC,MAAMpF,EAA0sQ,SAAWA,GAAG,OAAO,MAAMA,GAAG,SAASA,GAAGA,EAAE0F,OAAOC,EAAAA,EAAEC,YAAY,CAAzwQC,CAAE3E,GAAGA,EAAE,IAAI4E,EAAAA,EAAElE,KAAKC,SAASX,GAAGU,KAAKgD,oBAAoB5E,EAAE4B,KAAKmE,gCAAgC/F,EAAEoF,WAAW,CAAC,CAAClC,OAAAA,GAAS,IAAA8C,EAAAC,EAAC,GAAG,IAAIrE,KAAK8C,kBAAkB9B,OAAOhB,KAAKI,QAAQ,OAAO,MAAMhC,EAAE4B,KAAKC,SAASqE,4BAA+BtE,KAAK8C,kBAAkByB,SAAS,CAACnG,EAAEI,KAAC,IAAAgG,EAAA,OAA6B,QAA7BA,EAAGxE,KAAKyE,mBAAmBjG,UAAE,IAAAgG,OAAA,EAA1BA,EAA4BlD,SAAS,IAAkC,QAAhC8C,EAACpE,KAAK0E,kCAA0B,IAAAN,GAA/BA,EAAiC9C,UAA0C,QAAjC+C,EAACrE,KAAK2E,mCAA2B,IAAAN,GAAhCA,EAAkC/C,UAAUtB,KAAKI,UAASJ,KAAKC,SAASU,GAAGiE,kBAAkB5E,KAAKI,SAASJ,KAAKI,QAAQ,MAAKJ,KAAKC,SAAS4E,gBAAgBzG,GAAG4B,KAAKC,SAASM,gBAAgBkB,UAAUhD,EAAAA,GAAE0E,kBAAkBnD,KAAK,CAAC,UAAIe,GAAS,OAAOf,KAAKI,OAAO,CAAC,gBAAI0E,GAAe,OAAO9E,KAAK8C,kBAAkBiC,IAAIzG,EAAAA,GAAEgF,kBAAkB,CAAC,gBAAI0B,GAAe,OAAOhF,KAAKiD,sBAAsBjD,KAAKgD,mBAAmB,CAAC,uBAAIiC,GAAsB,OAAOjF,KAAKiD,oBAAoB,CAAC,SAAIiC,GAAO,IAAAC,EAAAC,EAAC,MAAMhH,EAAE4B,KAAK8C,kBAAkBiC,IAAIzG,EAAAA,GAAEgF,mBAAmB,OAA2B,QAA3B6B,EAAQ,OAAD/G,QAAC,IAADA,GAAa,QAAZgH,EAADhH,EAAGoF,kBAAU,IAAA4B,OAAA,EAAbA,EAAeF,aAAK,IAAAC,EAAAA,EAAE,CAAC,CAAC,UAAIE,GAAQ,IAAAC,EAAAC,EAAC,MAAMnH,EAAE4B,KAAK8C,kBAAkBiC,IAAIzG,EAAAA,GAAEgF,mBAAmB,OAA4B,QAA5BgC,EAAQ,OAADlH,QAAC,IAADA,GAAa,QAAZmH,EAADnH,EAAGoF,kBAAU,IAAA+B,OAAA,EAAbA,EAAeF,cAAM,IAAAC,EAAAA,EAAE,CAAC,CAAC,cAAIpE,GAAY,IAAAsE,EAAAC,EAAC,MAAM,IAAIzF,KAAK8C,mBAAmB4C,QAAQ,CAACtH,EAACuH,KAAA,IAAEnH,EAAEc,GAAEqG,EAAA,OAAGvH,EAAEkB,EAAE4B,UAAU,GAA+B,QAA/BsE,EAAmB,QAAnBC,EAAEzF,KAAKgF,oBAAY,IAAAS,OAAA,EAAjBA,EAAmBvE,kBAAU,IAAAsE,EAAAA,EAAE,EAAE,CAACI,eAAAA,CAAgBxH,GAAG,MAAMI,EAAEwB,KAAK8C,kBAAkBiC,IAAI3G,GAAG,OAAOI,GAAG+D,EAAE/D,GAAGA,EAAE,IAAI,CAAC,oBAAIqH,GAAmB,MAAM,IAAI7F,KAAK8C,kBAAkBgD,OAAO,CAACC,kBAAAA,CAAmB3H,GAAwB,IAAA4H,EAAA,IAAtBxH,EAACS,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACX,EAAAA,GAAEgF,kBAAmB,IAAIlF,EAAE,OAAO4B,KAAKyD,8BAA8BjF,GAAG,MAAMc,EAAElB,EAAEoF,WAAWxD,KAAKuD,2BAA2BjE,GAA6B,QAA3B0G,EAAChG,KAAKyE,mBAAmBjG,UAAE,IAAAwH,GAA1BA,EAA4B1E,UAAUtB,KAAKkD,eAAelD,KAAKC,SAAS4E,gBAAgB7E,MAAMA,KAAKiG,sBAAsB7H,EAAE2C,OAAOvC,IAAIwB,KAAK8C,kBAAkBO,IAAI7E,EAAEJ,EAAE,CAACqG,kBAAAA,GAAyC,IAAtBrG,EAACa,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACX,EAAAA,GAAEgF,kBAAmB,MAAM9E,EAAEwB,KAAK8C,kBAAkBiC,IAAI3G,GAAG,GAAGI,EAAE,CAAC,GAAGwB,KAAKkD,aAAa,CAAC,MAAM1E,EAAEwB,KAAKC,SAASqE,4BAA4BtE,KAAKC,SAAS4E,gBAAgB7E,MAAMA,KAAKiG,sBAAsB,KAAK7H,GAAG4B,KAAKC,SAAS4E,gBAAgBrG,EAAE,CAAC,OAAOwB,KAAK8C,kBAAkBoD,OAAO9H,GAAGI,CAAC,CAAC,CAAC2H,qBAAAA,CAAsB/H,GAAwB,IAAtBI,EAACS,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACX,EAAAA,GAAEgF,kBAAmB,MAAMhE,EAAEU,KAAK8C,kBAAkBiC,IAAIvG,GAAGc,GAAGU,KAAKiG,sBAAsB3G,EAAEyB,OAAOvC,EAAEJ,EAAE,CAACgI,kBAAAA,CAAmBhI,GAAG,GAAGA,EAAE,OAAOA,EAAE0F,MAAM,KAAKC,EAAAA,EAAEsC,QAAQ,OAAOrG,KAAKsG,2BAA2BlI,GAAG,KAAK2F,EAAAA,EAAEC,aAAa,OAAOhE,KAAKuG,0BAA0BnI,GAAG,CAACkI,0BAAAA,CAA2BlI,GAAE,IAAAoI,EAAC,GAAG,MAAMpI,EAAE,OAAO,MAAMI,EAAEJ,EAAEoF,WAAWhF,EAAEiI,cAAc/H,EAAAA,GAAEgI,eAAelI,EAAEiI,cAAc/H,EAAAA,GAAEiI,kBAAkB9C,QAAQlC,MAAM,kEAAkEnD,EAAEoI,WAAWzI,EAAAA,GAAE0I,mBAAmBhD,QAAQlC,MAAM,mEAAmE3B,KAAKC,SAAS0D,aAAaC,cAAcC,QAAQlC,MAAM,+GAA+G3B,KAAKuD,2BAA2B/E,GAAGwB,KAAK8G,kCAAkC9G,KAAKkD,eAAelD,KAAKC,SAAS4E,gBAAgB7E,MAAMA,KAAKiG,sBAAsB7H,EAAE2C,OAAOgG,EAAAA,KAA6B,QAA1BP,EAACxG,KAAKiD,4BAAoB,IAAAuD,GAAzBA,EAA2BlF,UAAUtB,KAAKiD,qBAAqB7E,CAAC,CAACuG,yBAAAA,GAA4B,MAAMvG,EAAE4B,KAAKiD,qBAAqB,OAAO7E,GAAG4B,KAAKkD,eAAelD,KAAKC,SAAS4E,gBAAgB7E,MAAMA,KAAKiG,sBAAsB,KAAKc,EAAAA,KAAI/G,KAAKiD,qBAAqB,KAAK7E,CAAC,CAACmI,yBAAAA,CAA0BnI,GAAG,GAAG,MAAMA,EAAE,OAAO,MAAMI,EAAEJ,EAAEoF,WAAW,GAAGxD,KAAKmE,gCAAgC3F,GAAGwB,KAAK8G,kCAAkC9G,KAAKkD,aAAa,CAAClD,KAAKC,SAAS4E,gBAAgB7E,MAAM,MAAMV,EAAEU,KAAKC,SAASU,GAAGE,EAAEb,KAAKgH,sBAAsBxI,GAAGc,EAAE2H,wBAAwBxG,EAAAA,EAAEyG,YAAYrG,EAAEvB,EAAE6H,aAAa/I,EAAE2C,OAAO,CAACf,KAAKgD,oBAAoB5E,CAAC,CAACsG,wBAAAA,GAA2B,MAAMtG,EAAE4B,KAAKgD,oBAAoB,GAAG5E,GAAG4B,KAAKkD,aAAa,CAAClD,KAAKC,SAAS4E,gBAAgB7E,MAAM,MAAMxB,EAAEwB,KAAKC,SAASU,GAAGrB,EAAEU,KAAKgH,sBAAsB5I,EAAEoF,YAAYhF,EAAEyI,wBAAwBxG,EAAAA,EAAEyG,YAAY5H,EAAEd,EAAE2I,aAAa,KAAK,CAAC,OAAOnH,KAAKgD,oBAAoB,KAAK5E,CAAC,CAACgJ,aAAAA,CAAchJ,EAAEI,EAAEc,EAAEuB,EAAEpC,EAAEH,EAAEI,IAAIN,EAAE,GAAGI,EAAE,GAAGC,EAAE,GAAGH,EAAE,IAAIuF,QAAQlC,MAAM,gCAAgCrC,GAAG,GAAGuB,GAAG,IAAIgD,QAAQlC,MAAM,oDAAoD,MAAMxD,EAAEO,EAAE8E,WAAW9E,EAAE8E,WAAW6D,SAASC,EAAAA,GAAEC,YAAY1D,QAAQlC,MAAM,uCAAuC,OAAO,OAADxD,QAAC,IAADA,OAAC,EAADA,EAAG+G,QAAO,OAAO,OAAD/G,QAAC,IAADA,OAAC,EAADA,EAAGkH,SAAQjH,EAAEkB,EAAEU,KAAKkF,OAAO1G,EAAEqC,EAAEb,KAAKqF,QAAQ5G,EAAEa,EAAEnB,EAAE+G,OAAO5G,EAAEuC,EAAE1C,EAAEkH,SAASxB,QAAQlC,MAAM,wFAAwF,MAAMoF,EAAE/G,KAAKC,SAASQ,EAAEsG,EAAES,YAAY9I,EAAE0E,EAAAA,EAAEqE,0BAA0BV,EAAEW,iBAAiBtE,EAAAA,EAAEqE,0BAA0BV,EAAElC,gBAAgB7E,MAAM+G,EAAEpG,GAAGgH,kBAAkBL,EAAAA,GAAEC,WAAW,EAAE9I,EAAEH,EAAEF,EAAEI,EAAEc,EAAEuB,GAAGkG,EAAES,YAAY/G,EAAE2C,EAAAA,EAAEqE,yBAAyB,CAACG,UAAAA,CAAWxJ,EAAEI,EAAEc,EAAEuB,EAAEpC,EAAEH,EAAEI,IAAIY,GAAG,GAAGuB,GAAG,IAAIgD,QAAQlC,MAAM,oDAAoDjD,GAAGmF,QAAQlC,MAAM,qCAAqC3B,KAAKC,SAAS4E,gBAAgB7E,MAAMA,KAAKC,SAASU,GAAGiH,WAAWxJ,EAAEI,EAAEc,EAAEuB,EAAEpC,EAAEH,EAAEI,EAAE,CAAC,qBAAMmJ,CAAgBzJ,EAAEI,EAAEqC,EAAEpC,EAAEH,EAAEI,EAAEP,GAAG,MAAMwC,GAAGoG,GAAG/G,KAAKC,SAASQ,EAAEnB,EAAAA,EAAEN,gBAAgBgB,KAAKC,SAASb,EAAAA,GAAEC,YAAYlB,EAAE2D,YAAY9B,KAAKC,SAASgC,WAAWxB,GAAGT,KAAKC,SAAS4E,gBAAgB7E,MAAM+G,EAAEa,WAAWxJ,EAAEI,EAAEqC,EAAEpC,EAAEH,EAAEI,EAAE,GAAGsB,KAAKC,SAASwC,aAAaqF,EAAAA,GAAEvI,yBAAyBkB,EAAEkC,gBAAgBxE,GAAGsC,EAAEa,SAAS,CAACyG,MAAAA,CAAO3J,EAAEI,GAAE,IAAAwJ,EAAAC,EAAC,GAAGjI,KAAKkF,QAAQ9G,GAAG4B,KAAKqF,SAAS7G,EAAE,OAAO,MAAMc,EAAE,CAAC4F,MAAM9G,EAAEiH,OAAO7G,GAAG0J,EAAE5I,EAAEU,KAAKC,SAASkI,WAAWC,gBAAgBpI,KAAK8C,kBAAkByB,SAASnG,GAAGA,EAAE2J,OAAOzI,EAAE4F,MAAM5F,EAAE+F,UAAmC,QAA1B2C,EAAChI,KAAKiD,4BAAoB,IAAA+E,GAAzBA,EAA2BD,OAAOzI,EAAE4F,MAAM5F,EAAE+F,QAAQrF,KAAKkD,eAAegF,EAAE5I,EAAEU,KAAKC,SAASkI,WAAWE,qBAA6C,QAAzBJ,EAACjI,KAAKgD,2BAAmB,IAAAiF,GAAxBA,EAA0BF,OAAOzI,EAAE4F,MAAM5F,EAAE+F,QAAQrF,KAAKC,SAASqE,8BAA8BtE,MAAMA,KAAKC,SAAS4E,gBAAgB,MAAM7E,KAAKkD,cAAa,EAAG,CAACoF,iBAAAA,GAAkC,IAAhBlK,EAACa,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACwB,EAAAA,EAAEyG,YAAa,MAAM1I,EAAEwB,KAAKC,SAASU,GAAG,GAAGX,KAAKkD,aAAa,YAAY1E,EAAEqG,gBAAgBzG,EAAE4B,KAAKe,QAAQf,KAAKI,SAAS5B,EAAEoG,kBAAkB5E,KAAKI,SAAS,MAAMd,EAAEd,EAAE+J,oBAAoB,GAAG/J,EAAEqG,gBAAgBzG,EAAEkB,GAAGU,KAAK8C,kBAAkByB,SAAS,CAAC/F,EAAEc,IAAIU,KAAKiG,sBAAsBzH,EAAEuC,OAAOzB,EAAEkJ,EAAEhK,GAAGJ,KAAK4B,KAAKgD,oBAAoB,CAAC,MAAM1D,EAAEU,KAAKgH,sBAAsBhH,KAAKgD,oBAAoBQ,YAAYhF,EAAEyI,wBAAwB7I,EAAEkB,EAAEd,EAAE2I,aAAanH,KAAKgD,oBAAoBjC,OAAO,MAAMf,KAAKiD,sBAAsBjD,KAAKiG,sBAAsBjG,KAAKiD,qBAAqBlC,OAAOvC,EAAEiK,yBAAyBD,EAAExI,KAAKiD,sBAAsB7E,IAAMyC,EAAAA,EAAAA,OAAKrC,EAAEkK,uBAAuBtK,KAAKI,EAAEmK,sBAAsB9E,QAAQlC,MAAM,8BAA8B3B,KAAKI,QAAQd,EAAEU,KAAKkD,cAAa,CAAE,CAAC+C,qBAAAA,CAAsB7H,GAA2D,IAAzDI,EAACS,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACX,EAAAA,GAAEgF,kBAAkBhE,EAACL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACqI,EAAAA,GAAEC,WAAW1G,EAAC5B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACwB,EAAAA,EAAEyG,YAAYzI,EAACQ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,EAAGe,KAAKC,SAASU,GAAGiI,qBAAqB/H,EAAErC,EAAEc,EAAElB,EAAEK,EAAE,CAACqI,+BAAAA,GAAkC,MAAM1I,EAAE4B,KAAKC,SAASU,GAAG,GAAGX,KAAKgD,oBAAoB,CAAC,GAAGhD,KAAKkD,aAAa,CAAClD,KAAKC,SAAS4E,gBAAgB7E,MAAM,MAAMxB,EAAEwB,KAAKgH,sBAAsBhH,KAAKgD,oBAAoBQ,YAAYpF,EAAE6I,wBAAwBxG,EAAAA,EAAEyG,YAAY1I,EAAEJ,EAAE+I,aAAa,KAAK,CAACnH,KAAKgD,qBAAoBxE,EAAAA,EAAAA,IAAEwB,KAAKgD,oBAAoB,CAAChD,KAAKiD,uBAAuBjD,KAAKkD,eAAelD,KAAKC,SAAS4E,gBAAgB7E,MAAMA,KAAKiG,sBAAsB,KAAK7H,EAAEqK,2BAA2BzI,KAAKiD,sBAAqBzE,EAAAA,EAAAA,IAAEwB,KAAKiD,sBAAsB,CAACM,0BAAAA,CAA2BnF,GAAGA,EAAEiJ,SAASC,EAAAA,GAAEC,YAAYnJ,EAAEiJ,SAASC,EAAAA,GAAEuB,kBAAkBhF,QAAQlC,MAAM,wDAAwDuG,EAAE9J,EAAE4B,KAAKC,SAASkI,WAAWC,gBAAgBpI,KAAK8I,0BAA0B1K,EAAE,CAAC+F,+BAAAA,CAAgC/F,GAAG8J,EAAE9J,EAAE4B,KAAKC,SAASkI,WAAWE,qBAAqBrI,KAAK8I,0BAA0B1K,EAAE,CAAC0K,yBAAAA,CAA0B1K,GAAGA,EAAE8G,OAAO,IAAI9G,EAAE8G,MAAMlF,KAAKkF,OAAO9G,EAAEiH,QAAQ,IAAIjH,EAAEiH,OAAOrF,KAAKqF,QAAQrF,KAAKkF,MAAM,GAAGlF,KAAKqF,OAAO,IAAIrF,KAAKkF,QAAQ9G,EAAE8G,OAAOlF,KAAKqF,SAASjH,EAAEiH,QAAQxB,QAAQlC,MAAM,gDAAgD,CAACqF,qBAAAA,CAAsB5I,GAAG,OAAOA,EAAE2K,gBAAgB,KAAK5H,EAAAA,GAAE6H,kBAAkB,KAAK7H,EAAAA,GAAE8H,kBAAkB,KAAK9H,EAAAA,GAAE+H,mBAAmB,OAAOlJ,KAAKC,SAASU,GAAGwI,iBAAiB,KAAKhI,EAAAA,GAAEwF,iBAAiB,KAAKxF,EAAAA,GAAEiI,kBAAkB,KAAKjI,EAAAA,GAAEuF,cAAc,OAAO1G,KAAKC,SAASU,GAAG8H,yBAAyB,KAAKtH,EAAAA,GAAEkI,eAAe,OAAOrJ,KAAKC,SAASU,GAAG2I,mBAAmB,CAAC7F,6BAAAA,CAA8BjF,GAAG,IAAI,IAAIqE,EAAE0G,uBAAuB,CAAC,MAAM5I,GAAGvC,GAAG4B,KAAKC,SAAS4C,EAAE0G,uBAAuBnL,EAAEoL,aAAapL,EAAEqL,sBAAsB,CAAC,MAAMnK,EAAEd,EAAEF,EAAAA,GAAEgF,kBAAkBhE,EAAE,EAAEuD,EAAE0G,wBAAwBnL,EAAAA,EAAEC,UAAU,sCAAsCsD,MAAM,yBAAwB,kDAAA+H,OAAmDpK,EAAE,EAAC,oCAAAoK,OAAmC7G,EAAE0G,uBAAsB,sBAAqB,EAAE,SAAShH,EAAEnE,GAAG,OAAO,MAAMA,GAAG,SAASA,GAAGA,EAAE0F,OAAOC,EAAAA,EAAEsC,OAAO,CAAyH,SAAS6B,EAAE9J,EAAEI,GAAG,MAAMc,EAAEqK,KAAKC,IAAIxL,EAAE8G,MAAM9G,EAAEiH,QAAQ,GAAG/F,EAAEd,EAAE,CAAroSJ,EAAAA,EAAEC,UAAU,sCAA8nSqD,KAAK,gCAADgI,OAAiCtL,EAAE8G,MAAK,KAAAwE,OAAItL,EAAEiH,OAAM,qBAAAqE,OAAoBlL,IAAK,MAAMqC,EAAErC,EAAEc,EAAE,OAAOlB,EAAE8G,MAAMyE,KAAKE,MAAMzL,EAAE8G,MAAMrE,GAAGzC,EAAEiH,OAAOsE,KAAKE,MAAMzL,EAAEiH,OAAOxE,IAAG,CAAE,CAAC,OAAM,CAAE,CAAC,SAAS2H,EAAEpK,GAAG,OAAOA,EAAEoF,WAAW6D,SAASC,EAAAA,GAAEuB,iBAAiBvB,EAAAA,GAAEwC,4BAA4BxC,EAAAA,GAAEC,UAAU,CAAC1E,EAAE0G,wBAAwB,C,wECAz2T,MAAM9K,EAAEsB,WAAAA,CAAYc,EAAEpC,GAAGuB,KAAKC,SAASY,EAAEb,KAAK+J,YAAYtL,EAAEuB,KAAK8D,KAAK1F,EAAAA,EAAE4F,aAAahE,KAAKC,SAASM,gBAAgBC,UAAUhC,EAAAA,GAAEwL,aAAahK,MAAM,MAAMV,EAAEU,KAAKC,SAASU,GAAGX,KAAKe,OAAOzB,EAAE2K,qBAAqBjK,KAAKC,SAASiK,iBAAiBlK,MAAM,MAAMkF,MAAMxG,EAAE2G,OAAOlH,EAAE4K,eAAezK,EAAE6L,aAAapD,GAAGtI,EAAEsI,EAAEzH,EAAE8K,+BAA+B9K,EAAE6H,aAAanH,KAAKqK,QAAQ/L,EAAEI,EAAEP,GAAGmB,EAAEgL,oBAAoBhL,EAAE6H,aAAa7I,EAAEI,EAAEP,EAAE,CAAC,cAAIqF,GAAa,OAAOxD,KAAK+J,WAAW,CAAC,WAAIM,GAAU,MAAM7L,EAAEwB,KAAK+J,YAAYM,QAAQjM,EAAE4B,KAAKC,SAASkI,WAAWoC,WAAW,OAAO/L,EAAEmL,KAAKa,IAAIhM,EAAEJ,GAAGA,CAAC,CAAC,cAAI8C,GAAa,OAAOL,EAAAA,EAAAA,GAAEb,KAAK+J,YAAY,CAAChC,MAAAA,CAAOvJ,EAAEJ,GAAG,MAAMyC,EAAEb,KAAK+J,YAAY,GAAGlJ,EAAEqE,QAAQ1G,GAAGqC,EAAEwE,SAASjH,EAAE,OAAOyC,EAAEqE,MAAM1G,EAAEqC,EAAEwE,OAAOjH,EAAE,MAAMK,EAAEuB,KAAKC,SAASU,GAAGX,KAAKC,SAASiK,iBAAiBlK,MAAMa,EAAEsJ,aAAa1L,EAAE2L,+BAA+B3L,EAAE0I,aAAanH,KAAKqK,QAAQxJ,EAAEkI,eAAelI,EAAEqE,MAAMrE,EAAEwE,QAAQ5G,EAAE6L,oBAAoB7L,EAAE0I,aAAatG,EAAEkI,eAAelI,EAAEqE,MAAMrE,EAAEwE,OAAO,CAAC/D,OAAAA,GAAUtB,KAAKC,WAAWD,KAAKC,SAASU,GAAG8J,mBAAmBzK,KAAKe,QAAQf,KAAKC,SAASM,gBAAgBkB,UAAUjD,EAAAA,GAAEwL,aAAahK,MAAMA,KAAKC,SAAS,KAAK,E,0DCAnrC,MAAMX,EAAES,WAAAA,CAAY3B,EAAEkB,GAAM,IAAJhB,EAACW,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACK,EAAGU,KAAK+I,eAAe3K,EAAE4B,KAAKkF,MAAM5F,EAAEU,KAAKqF,OAAO/G,EAAE0B,KAAKmK,cAAa,EAAGnK,KAAKqK,QAAQ,CAAC,EAAE,SAAS/L,EAAEgB,GAAG,OAAOA,EAAE4F,OAAO,GAAG5F,EAAE+F,QAAQ,GAAG,MAAM/F,EAAEyJ,eAAe,EAAEzJ,EAAE4F,MAAM5F,EAAE+F,QAAOjH,EAAAA,EAAAA,IAAEkB,EAAEyJ,eAAe,C","sources":["../node_modules/@arcgis/core/views/webgl/BufferObject.js","../node_modules/@arcgis/core/views/webgl/FramebufferObject.js","../node_modules/@arcgis/core/views/webgl/Renderbuffer.js","../node_modules/@arcgis/core/views/webgl/RenderbufferDescriptor.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{isArrayLike as e}from\"../../core/arrayUtils.js\";import t from\"../../core/Logger.js\";import{isUint16Array as s,isUint32Array as i}from\"../../core/typedArrayUtil.js\";import{checkWebGLError as r}from\"./checkWebGLError.js\";import{BufferType as n,Usage as _,ResourceType as a,DataType as f}from\"./enums.js\";const o=()=>t.getLogger(\"esri.views.webgl.BufferObject\"),u=null;class h{static createIndex(e,t,s){return new h(e,n.ELEMENT_ARRAY_BUFFER,t,s)}static createVertex(e,t,s){return new h(e,n.ARRAY_BUFFER,t,s)}static createUniform(e,t,s){return new h(e,n.UNIFORM_BUFFER,t,s)}static createPixelPack(e,t=_.STREAM_READ,s){const i=new h(e,n.PIXEL_PACK_BUFFER,t);return s&&i.setSize(s),i}static createPixelUnpack(e,t=_.STREAM_DRAW,s){return new h(e,n.PIXEL_UNPACK_BUFFER,t,s)}static createTransformFeedback(e,t=_.STATIC_DRAW,s){const i=new h(e,n.TRANSFORM_FEEDBACK_BUFFER,t);return i.setSize(s),i}constructor(e,t,s,i){this._context=e,this.bufferType=t,this.usage=s,this._glName=null,this._size=-1,this._indexType=void 0,e.instanceCounter.increment(a.BufferObject,this),this._glName=this._context.gl.createBuffer(),r(this._context.gl),i&&this.setData(i)}get glName(){return this._glName}get size(){return this._size}get indexType(){return this._indexType}get usedMemory(){return this.bufferType===n.ELEMENT_ARRAY_BUFFER?this._indexType===f.UNSIGNED_INT?4*this._size:2*this._size:this._size}get _isVAOAware(){return this.bufferType===n.ELEMENT_ARRAY_BUFFER||this.bufferType===n.ARRAY_BUFFER}dispose(){if(this._context?.gl){if(this._glName){this._context.gl.deleteBuffer(this._glName),this._glName=null}this._context.instanceCounter.decrement(a.BufferObject,this),this._context=null}else this._glName&&o().warn(\"Leaked WebGL buffer object\")}setSize(e,t=null){if(e<=0&&o().error(\"Buffer size needs to be positive!\"),this.bufferType===n.ELEMENT_ARRAY_BUFFER&&null!=t)switch(this._indexType=t,t){case f.UNSIGNED_SHORT:e*=2;break;case f.UNSIGNED_INT:e*=4}this._setBufferData(e)}setData(e){if(!e)return;let t=e.byteLength;this.bufferType===n.ELEMENT_ARRAY_BUFFER&&(s(e)&&(t/=2,this._indexType=f.UNSIGNED_SHORT),i(e)&&(t/=4,this._indexType=f.UNSIGNED_INT)),this._setBufferData(t,e)}_setBufferData(e,t=null){this._size=e;const s=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const i=this._context.gl;null!=t?i.bufferData(this.bufferType,t,this.usage):i.bufferData(this.bufferType,e,this.usage),r(i),this._isVAOAware&&this._context.bindVAO(s)}setSubData(e,t,s,i){if(!e)return;(t<0||t*e.BYTES_PER_ELEMENT>=this.usedMemory)&&o().error(\"offset is out of range!\"),s>=i&&o().error(\"end must be bigger than start!\"),(t+(i-s))*e.BYTES_PER_ELEMENT>this.usedMemory&&o().error(\"An attempt to write beyond the end of the buffer!\");const n=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const{gl:_}=this._context;_.bufferSubData(this.bufferType,t*e.BYTES_PER_ELEMENT,e,s,i-s),r(_),this._isVAOAware&&this._context.bindVAO(n)}getSubData(e,t=0,s,i){if(s<0||i<0)return void o().error(\"Problem getting subdata: offset and length were less than zero!\");const r=E(e)?e.BYTES_PER_ELEMENT:1;if(r*((s??0)+(i??0))>e.byteLength)return void o().error(\"Problem getting subdata: offset and length exceeded destination size!\");t+r*(i??0)>this.usedMemory&&o().warn(\"Potential problem getting subdata: requested data exceeds buffer size!\");const _=this._context.gl;this.bufferType===n.TRANSFORM_FEEDBACK_BUFFER?(this._context.bindBuffer(this,n.TRANSFORM_FEEDBACK_BUFFER),_.getBufferSubData(n.TRANSFORM_FEEDBACK_BUFFER,t,e,s,i),this._context.unbindBuffer(n.TRANSFORM_FEEDBACK_BUFFER)):(this._context.bindBuffer(this,n.COPY_READ_BUFFER),_.getBufferSubData(n.COPY_READ_BUFFER,t,e,s,i),this._context.unbindBuffer(n.COPY_READ_BUFFER))}async getSubDataAsync(e,t=0,s,i){await this._context.clientWaitAsync(),this.getSubData(e,t,s,i)}}function E(t){return e(t)}export{h as BufferObject,u as tracer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import t from\"../../core/Logger.js\";import{disposeMaybe as e}from\"../../core/maybe.js\";import{BufferObject as i}from\"./BufferObject.js\";import{webglDebugEnabled as r}from\"./checkWebGLError.js\";import{ResourceType as s,ColorAttachment as h,PixelFormat as n,PixelType as o,DepthStencilAttachment as c,FramebufferTarget as a,TextureType as u,Usage as _,BufferType as l,RenderbufferFormat as f}from\"./enums.js\";import{GLObjectType as T}from\"./GLObjectType.js\";import{Renderbuffer as d}from\"./Renderbuffer.js\";import{Texture as m}from\"./Texture.js\";const p=()=>t.getLogger(\"esri.views.webgl.FramebufferObject\");class x{constructor(t,e,i=null){this._context=t,this._glName=null,this._colorAttachments=new Map,this._depthStencilBuffer=null,this._depthStencilTexture=null,this._initialized=!1,t.instanceCounter.increment(s.FramebufferObject,this);const r=E(e)?e:new m(this._context,e);if(this._colorAttachments.set(h.COLOR_ATTACHMENT0,r),this._validateTextureDescriptor(r.descriptor),this._validateColorAttachmentPoint(h.COLOR_ATTACHMENT0),null!=i)if(A(i))this._context.capabilities.depthTexture||console.error(\"Setting the depth/stencil texture as an attachment requires WEBGL_depth_texture or WebGL2\"),this._depthStencilTexture=E(i)?i:new m(this._context,i),this._validateTextureDescriptor(this._depthStencilTexture.descriptor);else{const t=g(i)?i:new d(this._context,i);this._depthStencilBuffer=t,this._validateRenderBufferDescriptor(t.descriptor)}}dispose(){if(0===this._colorAttachments.size&&!this._glName)return;const t=this._context.getBoundFramebufferObject();if(this._colorAttachments.forEach(((t,e)=>this.detachColorTexture(e)?.dispose())),this.detachDepthStencilBuffer()?.dispose(),this.detachDepthStencilTexture()?.dispose(),this._glName){this._context.gl.deleteFramebuffer(this._glName),this._glName=null}this._context.bindFramebuffer(t),this._context.instanceCounter.decrement(s.FramebufferObject,this)}get glName(){return this._glName}get colorTexture(){return this._colorAttachments.get(h.COLOR_ATTACHMENT0)}get depthStencil(){return this._depthStencilTexture||this._depthStencilBuffer}get depthStencilTexture(){return this._depthStencilTexture}get width(){const t=this._colorAttachments.get(h.COLOR_ATTACHMENT0);return t?.descriptor?.width??0}get height(){const t=this._colorAttachments.get(h.COLOR_ATTACHMENT0);return t?.descriptor?.height??0}get usedMemory(){return[...this._colorAttachments].reduce(((t,[e,i])=>t+i.usedMemory),this.depthStencil?.usedMemory??0)}getColorTexture(t){const e=this._colorAttachments.get(t);return e&&E(e)?e:null}get colorAttachments(){return[...this._colorAttachments.keys()]}attachColorTexture(t,e=h.COLOR_ATTACHMENT0){if(!t)return;this._validateColorAttachmentPoint(e);const i=t.descriptor;this._validateTextureDescriptor(i),this.detachColorTexture(e)?.dispose(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(t.glName,e)),this._colorAttachments.set(e,t)}detachColorTexture(t=h.COLOR_ATTACHMENT0){const e=this._colorAttachments.get(t);if(e){if(this._initialized){const e=this._context.getBoundFramebufferObject();this._context.bindFramebuffer(this),this._framebufferTexture2D(null,t),this._context.bindFramebuffer(e)}return this._colorAttachments.delete(t),e}}setColorTextureTarget(t,e=h.COLOR_ATTACHMENT0){const i=this._colorAttachments.get(e);i&&this._framebufferTexture2D(i.glName,e,t)}attachDepthStencil(t){if(t)switch(t.type){case T.Texture:return this._attachDepthStencilTexture(t);case T.RenderBuffer:return this._attachDepthStencilBuffer(t)}}_attachDepthStencilTexture(t){if(null==t)return;const e=t.descriptor;e.pixelFormat!==n.DEPTH_STENCIL&&e.pixelFormat!==n.DEPTH24_STENCIL8&&console.error(\"Depth/Stencil texture must have a pixel type of DEPTH_STENCIL!\"),e.dataType!==o.UNSIGNED_INT_24_8&&console.error(\"Depth/Stencil texture must have data type of UNSIGNED_INT_24_8!\"),this._context.capabilities.depthTexture||console.error(\"Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture!\"),this._validateTextureDescriptor(e),this._disposeDepthStencilAttachments(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(t.glName,c)),this._depthStencilTexture?.dispose(),this._depthStencilTexture=t}detachDepthStencilTexture(){const t=this._depthStencilTexture;return t&&this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,c)),this._depthStencilTexture=null,t}_attachDepthStencilBuffer(t){if(null==t)return;const e=t.descriptor;if(this._validateRenderBufferDescriptor(e),this._disposeDepthStencilAttachments(),this._initialized){this._context.bindFramebuffer(this);const i=this._context.gl,r=this._getGLAttachmentPoint(e);i.framebufferRenderbuffer(a.FRAMEBUFFER,r,i.RENDERBUFFER,t.glName)}this._depthStencilBuffer=t}detachDepthStencilBuffer(){const t=this._depthStencilBuffer;if(t&&this._initialized){this._context.bindFramebuffer(this);const e=this._context.gl,i=this._getGLAttachmentPoint(t.descriptor);e.framebufferRenderbuffer(a.FRAMEBUFFER,i,e.RENDERBUFFER,null)}return this._depthStencilBuffer=null,t}copyToTexture(t,e,i,r,s,h,n){(t<0||e<0||s<0||h<0)&&console.error(\"Offsets cannot be negative!\"),(i<=0||r<=0)&&console.error(\"Copy width and height must be greater than zero!\");const o=n.descriptor;n.descriptor.target!==u.TEXTURE_2D&&console.error(\"Texture target must be TEXTURE_2D!\"),(null==o?.width||null==o?.height||t+i>this.width||e+r>this.height||s+i>o.width||h+r>o.height)&&console.error(\"Bad dimensions, the current input values will attempt to read or copy out of bounds!\");const c=this._context,a=c.bindTexture(n,m.TEXTURE_UNIT_FOR_UPDATES);c.setActiveTexture(m.TEXTURE_UNIT_FOR_UPDATES),c.bindFramebuffer(this),c.gl.copyTexSubImage2D(u.TEXTURE_2D,0,s,h,t,e,i,r),c.bindTexture(a,m.TEXTURE_UNIT_FOR_UPDATES)}readPixels(t,e,i,r,s,h,n){(i<=0||r<=0)&&console.error(\"Copy width and height must be greater than zero!\"),n||console.error(\"Target memory is not initialized!\"),this._context.bindFramebuffer(this),this._context.gl.readPixels(t,e,i,r,s,h,n)}async readPixelsAsync(t,e,r,s,h,n,o){const{gl:c}=this._context,a=i.createPixelPack(this._context,_.STREAM_READ,o.byteLength);this._context.bindBuffer(a),this._context.bindFramebuffer(this),c.readPixels(t,e,r,s,h,n,0),this._context.unbindBuffer(l.PIXEL_PACK_BUFFER),await a.getSubDataAsync(o),a.dispose()}resize(t,e){if(this.width===t&&this.height===e)return;const i={width:t,height:e};b(i,this._context.parameters.maxTextureSize),this._colorAttachments.forEach((t=>t.resize(i.width,i.height))),this._depthStencilTexture?.resize(i.width,i.height),this._initialized&&(b(i,this._context.parameters.maxRenderbufferSize),this._depthStencilBuffer?.resize(i.width,i.height),this._context.getBoundFramebufferObject()===this&&this._context.bindFramebuffer(null),this._initialized=!1)}initializeAndBind(t=a.FRAMEBUFFER){const e=this._context.gl;if(this._initialized)return void e.bindFramebuffer(t,this.glName);this._glName&&e.deleteFramebuffer(this._glName);const i=e.createFramebuffer();if(e.bindFramebuffer(t,i),this._colorAttachments.forEach(((e,i)=>this._framebufferTexture2D(e.glName,i,S(e),t))),this._depthStencilBuffer){const i=this._getGLAttachmentPoint(this._depthStencilBuffer.descriptor);e.framebufferRenderbuffer(t,i,e.RENDERBUFFER,this._depthStencilBuffer.glName)}else this._depthStencilTexture&&this._framebufferTexture2D(this._depthStencilTexture.glName,e.DEPTH_STENCIL_ATTACHMENT,S(this._depthStencilTexture),t);if(r()){e.checkFramebufferStatus(t)!==e.FRAMEBUFFER_COMPLETE&&console.error(\"Framebuffer is incomplete!\")}this._glName=i,this._initialized=!0}_framebufferTexture2D(t,e=h.COLOR_ATTACHMENT0,i=u.TEXTURE_2D,r=a.FRAMEBUFFER,s=0){this._context.gl.framebufferTexture2D(r,e,i,t,s)}_disposeDepthStencilAttachments(){const t=this._context.gl;if(this._depthStencilBuffer){if(this._initialized){this._context.bindFramebuffer(this);const e=this._getGLAttachmentPoint(this._depthStencilBuffer.descriptor);t.framebufferRenderbuffer(a.FRAMEBUFFER,e,t.RENDERBUFFER,null)}this._depthStencilBuffer=e(this._depthStencilBuffer)}this._depthStencilTexture&&(this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,t.DEPTH_STENCIL_ATTACHMENT)),this._depthStencilTexture=e(this._depthStencilTexture))}_validateTextureDescriptor(t){t.target!==u.TEXTURE_2D&&t.target!==u.TEXTURE_CUBE_MAP&&console.error(\"Texture type must be TEXTURE_2D or TEXTURE_CUBE_MAP!\"),b(t,this._context.parameters.maxTextureSize),this._validateBufferDimensions(t)}_validateRenderBufferDescriptor(t){b(t,this._context.parameters.maxRenderbufferSize),this._validateBufferDimensions(t)}_validateBufferDimensions(t){t.width<=0&&(t.width=this.width),t.height<=0&&(t.height=this.height),this.width>0&&this.height>0&&(this.width===t.width&&this.height===t.height||console.error(\"Attachment size must match framebuffer size!\"))}_getGLAttachmentPoint(t){switch(t.internalFormat){case f.DEPTH_COMPONENT16:case f.DEPTH_COMPONENT24:case f.DEPTH_COMPONENT32F:return this._context.gl.DEPTH_ATTACHMENT;case f.DEPTH24_STENCIL8:case f.DEPTH32F_STENCIL8:case f.DEPTH_STENCIL:return this._context.gl.DEPTH_STENCIL_ATTACHMENT;case f.STENCIL_INDEX8:return this._context.gl.STENCIL_ATTACHMENT}}_validateColorAttachmentPoint(e){if(-1===x._MAX_COLOR_ATTACHMENTS){const{gl:t}=this._context;x._MAX_COLOR_ATTACHMENTS=t.getParameter(t.MAX_COLOR_ATTACHMENTS)}const i=e-h.COLOR_ATTACHMENT0;i+1>x._MAX_COLOR_ATTACHMENTS&&t.getLogger(\"esri.views.webgl.FrameBufferObject\").error(\"esri.FrameBufferObject\",`illegal attachment point for color attachment: ${i+1}. Implementation supports up to ${x._MAX_COLOR_ATTACHMENTS} color attachments`)}}function E(t){return null!=t&&\"type\"in t&&t.type===T.Texture}function g(t){return null!=t&&\"type\"in t&&t.type===T.RenderBuffer}function A(t){return E(t)||null!=t&&\"pixelFormat\"in t}function b(t,e){const i=Math.max(t.width,t.height);if(i>e){p().warn(`Resizing FBO attachment size ${t.width}x${t.height} to device limit ${e}`);const r=e/i;return t.width=Math.round(t.width*r),t.height=Math.round(t.height*r),!1}return!0}function S(t){return t.descriptor.target===u.TEXTURE_CUBE_MAP?u.TEXTURE_CUBE_MAP_POSITIVE_X:u.TEXTURE_2D}x._MAX_COLOR_ATTACHMENTS=-1;export{x as FramebufferObject,b as ensureAttachmentMaxSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{ResourceType as e}from\"./enums.js\";import{GLObjectType as t}from\"./GLObjectType.js\";import{estimateMemory as r}from\"./RenderbufferDescriptor.js\";class s{constructor(r,s){this._context=r,this._descriptor=s,this.type=t.RenderBuffer,this._context.instanceCounter.increment(e.Renderbuffer,this);const i=this._context.gl;this.glName=i.createRenderbuffer(),this._context.bindRenderbuffer(this);const{width:n,height:o,internalFormat:h,multisampled:c}=s;c?i.renderbufferStorageMultisample(i.RENDERBUFFER,this.samples,h,n,o):i.renderbufferStorage(i.RENDERBUFFER,h,n,o)}get descriptor(){return this._descriptor}get samples(){const e=this._descriptor.samples,t=this._context.parameters.maxSamples;return e?Math.min(e,t):t}get usedMemory(){return r(this._descriptor)}resize(e,t){const r=this._descriptor;if(r.width===e&&r.height===t)return;r.width=e,r.height=t;const s=this._context.gl;this._context.bindRenderbuffer(this),r.multisampled?s.renderbufferStorageMultisample(s.RENDERBUFFER,this.samples,r.internalFormat,r.width,r.height):s.renderbufferStorage(s.RENDERBUFFER,r.internalFormat,r.width,r.height)}dispose(){this._context&&(this._context.gl.deleteRenderbuffer(this.glName),this._context.instanceCounter.decrement(e.Renderbuffer,this),this._context=null)}}export{s as Renderbuffer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{getBytesPerElementFormat as t}from\"./Util.js\";class i{constructor(t,i,h=i){this.internalFormat=t,this.width=i,this.height=h,this.multisampled=!1,this.samples=1}}function h(i){return i.width<=0||i.height<=0||null==i.internalFormat?0:i.width*i.height*t(i.internalFormat)}export{i as RenderbufferDescriptor,h as estimateMemory};\n"],"names":["o","t","getLogger","h","createIndex","e","s","n","ELEMENT_ARRAY_BUFFER","createVertex","ARRAY_BUFFER","createUniform","UNIFORM_BUFFER","createPixelPack","arguments","length","undefined","_","STREAM_READ","i","PIXEL_PACK_BUFFER","setSize","createPixelUnpack","STREAM_DRAW","PIXEL_UNPACK_BUFFER","createTransformFeedback","STATIC_DRAW","TRANSFORM_FEEDBACK_BUFFER","constructor","this","_context","bufferType","usage","_glName","_size","_indexType","instanceCounter","increment","a","BufferObject","gl","createBuffer","r","setData","glName","size","indexType","usedMemory","f","UNSIGNED_INT","_isVAOAware","dispose","_this$_context","deleteBuffer","decrement","warn","error","UNSIGNED_SHORT","_setBufferData","byteLength","getBoundVAO","bindVAO","bindBuffer","bufferData","setSubData","BYTES_PER_ELEMENT","bufferSubData","getSubData","E","getBufferSubData","unbindBuffer","COPY_READ_BUFFER","getSubDataAsync","clientWaitAsync","x","_colorAttachments","Map","_depthStencilBuffer","_depthStencilTexture","_initialized","FramebufferObject","m","set","COLOR_ATTACHMENT0","_validateTextureDescriptor","descriptor","_validateColorAttachmentPoint","A","capabilities","depthTexture","console","type","T","RenderBuffer","g","d","_validateRenderBufferDescriptor","_this$detachDepthSten","_this$detachDepthSten2","getBoundFramebufferObject","forEach","_this$detachColorText","detachColorTexture","detachDepthStencilBuffer","detachDepthStencilTexture","deleteFramebuffer","bindFramebuffer","colorTexture","get","depthStencil","depthStencilTexture","width","_t$descriptor$width","_t$descriptor","height","_t$descriptor$height","_t$descriptor2","_this$depthStencil$us","_this$depthStencil","reduce","_ref","getColorTexture","colorAttachments","keys","attachColorTexture","_this$detachColorText2","_framebufferTexture2D","delete","setColorTextureTarget","attachDepthStencil","Texture","_attachDepthStencilTexture","_attachDepthStencilBuffer","_this$_depthStencilTe","pixelFormat","DEPTH_STENCIL","DEPTH24_STENCIL8","dataType","UNSIGNED_INT_24_8","_disposeDepthStencilAttachments","c","_getGLAttachmentPoint","framebufferRenderbuffer","FRAMEBUFFER","RENDERBUFFER","copyToTexture","target","u","TEXTURE_2D","bindTexture","TEXTURE_UNIT_FOR_UPDATES","setActiveTexture","copyTexSubImage2D","readPixels","readPixelsAsync","l","resize","_this$_depthStencilTe2","_this$_depthStencilBu","b","parameters","maxTextureSize","maxRenderbufferSize","initializeAndBind","createFramebuffer","S","DEPTH_STENCIL_ATTACHMENT","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","framebufferTexture2D","TEXTURE_CUBE_MAP","_validateBufferDimensions","internalFormat","DEPTH_COMPONENT16","DEPTH_COMPONENT24","DEPTH_COMPONENT32F","DEPTH_ATTACHMENT","DEPTH32F_STENCIL8","STENCIL_INDEX8","STENCIL_ATTACHMENT","_MAX_COLOR_ATTACHMENTS","getParameter","MAX_COLOR_ATTACHMENTS","concat","Math","max","round","TEXTURE_CUBE_MAP_POSITIVE_X","_descriptor","Renderbuffer","createRenderbuffer","bindRenderbuffer","multisampled","renderbufferStorageMultisample","samples","renderbufferStorage","maxSamples","min","deleteRenderbuffer"],"sourceRoot":""}