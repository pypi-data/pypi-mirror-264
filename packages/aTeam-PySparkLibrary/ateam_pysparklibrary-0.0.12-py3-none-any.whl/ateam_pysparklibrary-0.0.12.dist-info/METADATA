Metadata-Version: 2.3
Name: aTeam-PySparkLibrary
Version: 0.0.12
Project-URL: Homepage, https://github.com/EgdeConsulting/aTeam-PySparkLibrary
Project-URL: Issues, https://github.com/EgdeConsulting/aTeam-PySparkLibrary/issues
Author-email: Egde A-team <ludvig.loite@egde.no>
License-File: LICENSE
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Requires-Python: >=3.8
Description-Content-Type: text/markdown

# aTeam-PySparkLibrary

## Last opp ny versjon til PyPI:

1. Oppdater 'version' i _pyproject.toml_.
2. Kjør ``python -m build``
3. Kjør ``python -m twine upload dist/*``
4. Ved feilmelding 'InvalidDistribution: Metadata is missing required fields: Name, Version', sørg for at pkginfo har versjon >= 1.10
5. Skriv inn API token, som du finner ved å logge inn på PyPI.org. Ta kontakt med Ludvig dersom du ikke har tilgang til prosjektet i PyPI. Hvis du får opp at du må skrive inn username, skriv inn '__token__' som username, og API token som passord.
6. Evenentuelt endre environmenten til å bruke den nye versjonen av Librarien
7. Det kan ta litt tid før den nye versjonen er tilgjengelig til bruk i f. eks. Fabric. Erfaringsmessig tar det rundt 5 min. 

## Legg til Library i Fabric:

1. I Synapse Data Engineering, trykk New -> Environment. Lag et navn på det nye environmentet
2. Under _Public Libraries_, trykk '_Add from PyPI_'.
3. I raden som kommer opp, skriv inn '_aTeam-PySparkLibrary_'. Velg riktig versjon(ofte den nyeste).

## Bruke Library i notebook i Fabric:

1. Sørg for at notebooken bruker det custom environmentet som er laget som inneholder vårt Library.
2. I notebooken, importer og bruk de funksjonene du trenger på denne måten: 
``from aTeam_PySparkLibrary import perform_delta_load``
``perform_delta_load(storage_account_name, bronze_path, file_extension, dataset_type, dataset_name, business_key_column_name, sheet_name)``