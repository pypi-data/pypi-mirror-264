import{d as w,K as v,L as y,x,e as C,f as c,M as V,c as u,k as t,l as i,o as l,t as s,N as F,P as p,u as e,Q as N,R,W as B,p as _,S as D,T as M,U as S,$ as T,F as U,a as A,z as W,V as j,_ as L}from"./index-tQzbzZZu.js";import{s as $,a as z}from"./index-oxmGsOwU.js";const E={class:"workspace-dashboard__header-actions"},I={key:1,class:"workspace-dashboard__grid"},K={class:"workspace-dashboard__side"},H=w({__name:"Dashboard",setup(P){v(y,{interval:$(30)});const m=x(),r=C(m.flowRuns.getFlowRunsCount,[{}]),k=c(()=>r.executed),d=c(()=>r.response===0),b=[{text:"Dashboard"}],a=V({range:{type:"span",seconds:-z},tags:[]}),f=()=>L.map("WorkspaceDashboardFilter",a,"TaskRunsFilter");return(Q,o)=>{const g=i("p-button"),h=i("p-layout-default");return l(),u(h,{class:"workspace-dashboard"},{header:t(()=>[s(e(B),{crumbs:b,class:"workspace-dashboard__page-heading"},F({_:2},[d.value?void 0:{name:"actions",fn:t(()=>[p("div",E,[s(e(N),{selected:e(a).tags,"onUpdate:selected":o[0]||(o[0]=n=>e(a).tags=n),"empty-message":"All tags"},null,8,["selected"]),s(e(R),{modelValue:e(a).range,"onUpdate:modelValue":o[1]||(o[1]=n=>e(a).range=n),class:"workspace-dashboard__date-select"},null,8,["modelValue"])])]),key:"0"}]),1024)]),default:t(()=>[k.value?(l(),_(U,{key:0},[d.value?(l(),u(e(D),{key:0})):(l(),_("div",I,[s(e(M),{filter:e(a)},null,8,["filter"]),p("div",K,[s(e(S),{filter:f}),s(e(T),{class:"workspace-dashboard__work-pools",filter:e(a)},null,8,["filter"])])]))],64)):A("",!0),s(e(j),{title:"Ready to scale?",subtitle:"Automations, role and object-level security, and serverless push work pools on Nebula Cloud"},{actions:t(()=>[s(g,{to:"https://www.nebula.io/cloud-vs-oss?utm_source=oss&utm_medium=oss&utm_campaign=oss&utm_term=none&utm_content=none",target:"_blank",primary:""},{default:t(()=>[W(" Upgrade to Cloud ")]),_:1})]),_:1})]),_:1})}}});export{H as default};
