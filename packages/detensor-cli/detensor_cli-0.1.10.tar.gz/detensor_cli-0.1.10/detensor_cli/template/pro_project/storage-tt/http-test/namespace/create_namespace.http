# 命名空间是放置各种声明的逻辑空间
# 命名空间是全局对象, 所以需要通过全局提议(globalproposal)来创建.
# 通过创建 globalproposal 来创建一个名为 example-ns 的 namespace
POST http://127.0.0.1:9001/api/core/v1/globalproposal
{
  "apiVersion": "core/v1",
  "kind": "globalproposal",
  "metadata": {
    "name": "namespace-proposal111",
    "uid": 10
  },
  "spec": {
    "actions": [
      {
        "create": {
          "object": {
            "apiVersion": "core/v1",
            "kind": "namespace",
            "metadata": {
              "name": "example-ns11",
              "uid": 10
            },
            "spec": {
              "members": [
                "wx-org1.chainmaker.org",
                "wx-org2.chainmaker.org",
                "wx-org3.chainmaker.org"
              ]
            }
          }
        }
      }
    ]
  }
}

HTTP 201
[Captures]
uid: body

# 组织1 批准这一提议
PUT http://127.0.0.1:9001/api/core/v1/globalproposal/{{uid}}/permission
{
  "comment": "comment_from_org1"
}

HTTP 200

# 组织2 批准这一提议
PUT http://127.0.0.1:9002/api/core/v1/globalproposal/{{uid}}/permission
{
  "comment": "comment_from_org2"
}

HTTP 200

# 组织3 批准这一提议
PUT http://127.0.0.1:9003/api/core/v1/globalproposal/{{uid}}/permission
{
  "comment": "comment_from_org3"
}

HTTP 200

# 组织1 提交
PUT http://127.0.0.1:9001/api/core/v1/globalproposal/{{uid}}/commit

HTTP 200
