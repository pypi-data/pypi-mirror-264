- name: gather fact info
  import_playbook: ../gather_npu_fact.yml
  tags: always

- name: check packages for run and zip
  import_playbook: ../check_pkgs.yml
  tags:
    - nnae
    - nnrt
    - tfplguin
    - toolkit

- name: copy resources to remote servers
  import_playbook: ../distribution.yml
  tags: copy

- name: install patch nnae
  import_playbook: ../install/patch/rollback_nnae.yml
  tags: nnae

- name: install patch nnrt
  import_playbook: ../install/patch/rollback_nnrt.yml
  tags: nnrt

- name: install patch tfplugin
  import_playbook: ../install/patch/rollback_tfplugin.yml
  tags: tfplugin

- name: install patch toolkit
  import_playbook: ../install/patch/rollback_toolkit.yml
  tags: toolkit

- name: generate report
  import_playbook: ../report.yaml
  tags: always
