import{_ as oe}from"./nuxt-link.-0uV9A8c.js";import{r as v,n as Y,q as K,s as se,h as ae,u as ie,v as ne,x as re,y as B,z as E,A as le,w as _,B as de,o as g,b as m,C as u,a,c as k,D as H,F as $,d as x,E as G,G as ue,t as D}from"./entry.3Ks4xMS2.js";import{i as ce,u as pe,r as z,a as J,b as me,c as fe,d as he,e as be,f as _e}from"./artifact-validation.9XnuPCXh.js";const I=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function ve(e,s){if(typeof e!="string")throw new TypeError("argument str must be a string");const t={},f=(s||{}).decode||ge;let c=0;for(;c<e.length;){const n=e.indexOf("=",c);if(n===-1)break;let l=e.indexOf(";",c);if(l===-1)l=e.length;else if(l<n){c=e.lastIndexOf(";",n-1)+1;continue}const d=e.slice(c,n).trim();if(t[d]===void 0){let r=e.slice(n+1,l).trim();r.codePointAt(0)===34&&(r=r.slice(1,-1)),t[d]=we(r,f)}c=l+1}return t}function Q(e,s,t){const o=t||{},f=o.encode||Se;if(typeof f!="function")throw new TypeError("option encode is invalid");if(!I.test(e))throw new TypeError("argument name is invalid");const c=f(s);if(c&&!I.test(c))throw new TypeError("argument val is invalid");let n=e+"="+c;if(o.maxAge!==void 0&&o.maxAge!==null){const l=o.maxAge-0;if(Number.isNaN(l)||!Number.isFinite(l))throw new TypeError("option maxAge is invalid");n+="; Max-Age="+Math.floor(l)}if(o.domain){if(!I.test(o.domain))throw new TypeError("option domain is invalid");n+="; Domain="+o.domain}if(o.path){if(!I.test(o.path))throw new TypeError("option path is invalid");n+="; Path="+o.path}if(o.expires){if(!ye(o.expires)||Number.isNaN(o.expires.valueOf()))throw new TypeError("option expires is invalid");n+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(n+="; HttpOnly"),o.secure&&(n+="; Secure"),o.priority)switch(typeof o.priority=="string"?o.priority.toLowerCase():o.priority){case"low":n+="; Priority=Low";break;case"medium":n+="; Priority=Medium";break;case"high":n+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(o.sameSite)switch(typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite){case!0:n+="; SameSite=Strict";break;case"lax":n+="; SameSite=Lax";break;case"strict":n+="; SameSite=Strict";break;case"none":n+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n}function ye(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function we(e,s){try{return s(e)}catch{return e}}function ge(e){return e.includes("%")?decodeURIComponent(e):e}function Se(e){return encodeURIComponent(e)}function w(e){if(typeof e!="object")return e;var s,t,o=Object.prototype.toString.call(e);if(o==="[object Object]"){if(e.constructor!==Object&&typeof e.constructor=="function"){t=new e.constructor;for(s in e)e.hasOwnProperty(s)&&t[s]!==e[s]&&(t[s]=w(e[s]))}else{t={};for(s in e)s==="__proto__"?Object.defineProperty(t,s,{value:w(e[s]),configurable:!0,enumerable:!0,writable:!0}):t[s]=w(e[s])}return t}if(o==="[object Array]"){for(s=e.length,t=Array(s);s--;)t[s]=w(e[s]);return t}return o==="[object Set]"?(t=new Set,e.forEach(function(f){t.add(w(f))}),t):o==="[object Map]"?(t=new Map,e.forEach(function(f,c){t.set(w(c),w(f))}),t):o==="[object Date]"?new Date(+e):o==="[object RegExp]"?(t=new RegExp(e.source,e.flags),t.lastIndex=e.lastIndex,t):o==="[object DataView]"?new e.constructor(w(e.buffer)):o==="[object ArrayBuffer]"?e.slice(0):o.slice(-6)==="Array]"?new e.constructor(e):e}const Ee={path:"/",watch:!0,decode:e=>ne(decodeURIComponent(e)),encode:e=>encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))};function W(e,s){var d;const t={...Ee,...s},o=ke(t)||{};let f;t.maxAge!==void 0?f=t.maxAge*1e3:t.expires&&(f=t.expires.getTime()-Date.now());const c=f!==void 0&&f<=0,n=w(c?void 0:o[e]??((d=t.default)==null?void 0:d.call(t))),l=f&&!c?Ce(n,f):v(n);{const r=typeof BroadcastChannel>"u"?null:new BroadcastChannel(`nuxt:cookies:${e}`),T=()=>{t.readonly||ce(l.value,o[e])||(Ae(e,l.value,t),o[e]=w(l.value),r==null||r.postMessage(t.encode(l.value)))};let S=!1;Y()&&K(()=>{S=!0,T(),r==null||r.close()}),r&&(r.onmessage=R=>{S=!0,o[e]=l.value=t.decode(R.data),se(()=>{S=!1})}),t.watch?ae(l,()=>{S||T()},{deep:t.watch!=="shallow"}):T()}return l}function ke(e={}){return ve(document.cookie,e)}function Te(e,s,t={}){return s==null?Q(e,s,{...t,maxAge:-1}):Q(e,s,t)}function Ae(e,s,t={}){document.cookie=Te(e,s,t)}const X=2147483647;function Ce(e,s){let t,o=0;return Y()&&K(()=>{clearTimeout(t)}),ie((f,c)=>{function n(){clearTimeout(t);const l=s-o,d=l<X?l:X;t=setTimeout(()=>{if(o+=d,o<s)return n();e=void 0,c()},d)}return{get(){return f(),e},set(l){n(),e=l,c()}}})}const Ve={style:{display:"flex"}},xe={class:"split-div"},De=a("b",null,"Model",-1),Ie=a("br",null,null,-1),Re={class:"split-div"},Ue=a("b",null,"Version",-1),je=a("br",null,null,-1),Le=a("div",null,null,-1),Me={class:"scrollable-table-div"},Oe=a("p",null," A negotiation card is a document with a series of discussion points to be documented during a negotiation between all project stakeholders at the project's outset. It is then used as a reference throughout development and is updated at prescribed negotiation points. ",-1),qe={class:"table usa-table usa-table--borderless"},Be=a("thead",null,[a("tr",null,[a("th",{"data-sortable":"",scope:"col",role:"columnheader"},"ID"),a("th",{"data-sortable":"",scope:"col",role:"columnheader"},"Timestamp"),a("th",{scope:"col"},"Actions")])],-1),Ne={scope:"row"},Pe={key:0,style:{float:"left",color:"red"}},Fe={class:"scrollable-table-div"},He=a("p",null," A report is a human and machine-readable summary of all knowledge gained about a model during the MLTE process. ",-1),$e={class:"table usa-table usa-table--borderless"},Ge=a("thead",null,[a("tr",null,[a("th",{"data-sortable":"",scope:"col",role:"columnheader"},"ID"),a("th",{"data-sortable":"",scope:"col",role:"columnheader"},"Timestamp"),a("th",{scope:"col"},"Actions")])],-1),ze={scope:"row"},Je={key:0,style:{float:"left",color:"red"}},Qe={class:"scrollable-table-div"},We=a("p",null," A specification (spec) defines the model requirements that must be satisfied to ensure successful integration with the target system. ",-1),Xe={class:"scrollable-table-div"},Ye=a("p",null," Validated Specification are produced by combining a specification with its corresponding results; this artifact communicates how well a model performed against all of its requirements. ",-1),Ke={class:"scrollable-table-div"},Ze=a("p",null," Values are the atomic unit of model evaluation in MLTE. A value is any artifact produced by a MLTE measurement for the purposes of model evaluation. ",-1),st=re({__name:"index",async setup(e){let s,t;const o=ue(),f=v([{href:"/",text:""}]),c=v([]),n=v([]),{data:l}=([s,t]=B(()=>pe(o.public.apiPath+"/model",{method:"GET"},"$pqtWcjQkdb")),s=await s,t(),s);l.value&&l.value.forEach(p=>{c.value.push({value:p,text:p})});const d=W("selectedModel");d.value=d.value||"";const r=W("selectedVersion");r.value=r.value||"";const T=v([{id:"id",label:"ID",sortable:!0},{id:"timestamp",label:"Timestamp",sortable:!0}]),S=v([{id:"id",label:"ID",sortable:!0},{id:"specid",label:"SpecID",sortable:!0},{id:"timestamp",label:"Timestamp",sortable:!0}]),R=v([{id:"id",label:"ID",sortable:!0},{id:"measurement",label:"Measurement",sortable:!0},{id:"type",label:"Type",sortable:!0},{id:"timestamp",label:"Timestamp",sortable:!0}]),U=v([]),j=v([]),L=v([]),M=v([]),O=v([]);c.value!==null&&c.value.length>0&&(c.value.map(h=>h.value).includes(d.value)||(d.value="",r.value=""),d.value!==""&&([s,t]=B(()=>N(d.value,!0)),await s,t(),n.value.map(y=>y.value).includes(r.value)||(r.value=""),r.value!==""&&([s,t]=B(()=>P(r.value)),await s,t())));async function N(p,h){if(d.value=p,h||(r.value=""),p===""){n.value=[],F();return}await $fetch(o.public.apiPath+"/model/"+p+"/version",{retry:0,method:"GET",onRequestError(){z()},onResponse({response:y}){y._data&&(d.value=p,n.value=[],y._data.forEach(i=>{n.value.push({value:i,text:i})}))},onResponseError(){J()}}),n.value.sort(function(y,i){return y.value<i.value?-1:y.value>i.value?1:0})}async function P(p){if(r.value=p,p===""){F();return}await $fetch(o.public.apiPath+"/model/"+d.value+"/version/"+p+"/artifact",{retry:0,method:"GET",onRequestError(){z()},onResponse({response:h}){h._data&&(r.value=p,Z(d.value,r.value,h._data))},onResponseError(){J()}})}function Z(p,h,y){y.forEach(i=>{i.header.timestamp=new Date(i.header.timestamp*1e3).toLocaleString("en-US"),i.header.type==="negotiation_card"?me(i)&&U.value.push({id:i.header.identifier,timestamp:i.header.timestamp,model:p,version:h}):i.header.type==="report"?fe(i)&&L.value.push({id:i.header.identifier,timestamp:i.header.timestamp,model:p,version:h}):i.header.type==="spec"?he(i)&&j.value.push({id:i.header.identifier,timestamp:i.header.timestamp,model:p,version:h}):i.header.type==="validated_spec"&&be(i)&&M.value.push({id:i.header.identifier,specid:i.body.spec_identifier,timestamp:i.header.timestamp,model:p,version:h}),i.header.type==="value"&&_e(i)&&O.value.push({id:i.header.identifier.slice(0,-6),measurement:i.body.metadata.measurement_type,type:i.body.value.value_type,timestamp:i.header.timestamp,model:p,version:h})})}function F(){U.value=[],L.value=[],j.value=[],M.value=[],O.value=[]}return(p,h)=>{const y=E("UsaBreadcrumb"),i=E("UsaSelect"),C=E("UsaButton"),V=oe,A=E("UsaAccordionItem"),q=E("UsaTable"),ee=E("UsaAccordion"),te=de;return g(),le(te,{name:"base-layout"},{default:_(()=>[m(y,{items:u(f)},null,8,["items"]),a("div",Ve,[a("div",xe,[De,m(i,{options:u(c),"model-value":u(d),"onUpdate:modelValue":h[0]||(h[0]=b=>N(b,!1))},null,8,["options","model-value"]),Ie]),a("div",Re,[Ue,m(i,{options:u(n),"model-value":u(r),"onUpdate:modelValue":h[1]||(h[1]=b=>P(b))},null,8,["options","model-value"]),je]),Le]),m(ee,{multiselectable:"",bordered:""},{default:_(()=>[m(A,{label:"Negotiation Cards"},{default:_(()=>[a("div",Me,[Oe,a("table",qe,[Be,a("tbody",null,[(g(!0),k($,null,H(u(U),b=>(g(),k("tr",{key:b.id},[a("th",Ne,D(b.id),1),a("td",null,D(b.timestamp),1),a("td",null,[m(V,{to:{path:"negotiation-card",query:{model:b.model,version:b.version,artifactId:b.id}}},{default:_(()=>[m(C,{class:"primary-button"},{default:_(()=>[x(" Edit ")]),_:1})]),_:2},1032,["to"])])]))),128))])]),m(V,{to:{path:"negotiation-card",query:{model:u(d),version:u(r)}}},{default:_(()=>[m(C,{disabled:u(d)===""||u(r)==="",class:"primary-button",style:{float:"left"}},{default:_(()=>[x(" New ")]),_:1},8,["disabled"])]),_:1},8,["to"]),u(d)===""||u(r)===""?(g(),k("p",Pe," Select a model and version to start a new negotiation card here. ")):G("",!0)])]),_:1}),m(A,{label:"Reports"},{default:_(()=>[a("div",Fe,[He,a("table",$e,[Ge,a("tbody",null,[(g(!0),k($,null,H(u(L),b=>(g(),k("tr",{key:b.id},[a("th",ze,D(b.id),1),a("td",null,D(b.timestamp),1),a("td",null,[m(V,{to:{path:"report",query:{model:b.model,version:b.version,artifactId:b.id}}},{default:_(()=>[m(C,{class:"primary-button"},{default:_(()=>[x(" Edit ")]),_:1})]),_:2},1032,["to"])])]))),128))])]),m(V,{to:{path:"report",query:{model:u(d),version:u(r)}}},{default:_(()=>[m(C,{disabled:u(d)===""||u(r)==="",class:"primary-button",style:{float:"left"}},{default:_(()=>[x(" New ")]),_:1},8,["disabled"])]),_:1},8,["to"]),u(d)===""||u(r)===""?(g(),k("p",Je," Select a model and version to start a new report. ")):G("",!0)])]),_:1}),m(A,{label:"Specifications"},{default:_(()=>[a("div",Qe,[We,m(q,{headers:u(T),rows:u(j),borderless:"",class:"table"},null,8,["headers","rows"])])]),_:1}),m(A,{label:"Validated Specification"},{default:_(()=>[a("div",Xe,[Ye,m(q,{headers:u(S),rows:u(M),borderless:"",class:"table"},null,8,["headers","rows"])])]),_:1}),m(A,{label:"Values"},{default:_(()=>[a("div",Ke,[Ze,m(q,{headers:u(R),rows:u(O),borderless:"",class:"table"},null,8,["headers","rows"])])]),_:1})]),_:1})]),_:1})}}});export{st as default};
