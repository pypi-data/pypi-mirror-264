[project]
name = "fundamentum-edge-proto"
description = "fundamentum-edge protobufs"
authors = [
    { name = "Alex Sirois", email = "asirois@dimonoff.com" },
    { name = "Jonathan Chouinard", email = "jchouinard@dimonoff.com" },
]
dynamic = []
readme = "README.md"
requires-python = ">=3.10"
dependencies = [
    "protobuf>=3.20.3",
]
version = "1.0.1.1"

[project.urls]
repository = "https://bitbucket.org/amotus/fundamentum-edge-proto-python"

[project.license]
file = "LICENSE"

[tool.pdm.dev-dependencies]
build = [
    "grpcio-tools",
    "mypy-protobuf",
]
type-check = [
    "mypy>=1.9",
    "types-protobuf>=4.24",
    "grpc-stubs>=1.53",
]
lint = [
    "ruff>=0.3",
]

[tool.pdm.scripts]
build-proto = "python -m grpc_tools.protoc\n  -I fundamentum_edge_proto=./proto\n  --python_out=.\n  --pyi_out=.\n  --grpc_python_out=.\n  --mypy_grpc_out=.\n  proto/configuration.proto\n  proto/provisioning.proto\n  proto/telemetry.proto\n"
test-import = "python -c 'import fundamentum_edge_proto'"
lint = "ruff check fundamentum_edge_proto"
type-check = "mypy fundamentum_edge_proto/__init__.py fundamentum_edge_proto/typed_stubs.py"

[tool.pdm.scripts.validate]
composite = [
    "lint",
    "type-check",
    "test-import",
]

[tool.pdm.version]
source = "scm"

[tool.ruff]
target-version = "py310"
line-length = 110
src = [
    "fundamentum_edge_proto",
]

[tool.ruff.lint]
select = [
    "ALL",
]
ignore = [
    "D100",
    "D103",
    "D104",
]

[tool.ruff.lint.pydocstyle]
convention = "google"

[tool.mypy]
check_untyped_defs = true
namespace_packages = true
pretty = true
warn_return_any = true
warn_unreachable = true
warn_unused_ignores = true

[build-system]
build-backend = "pdm.backend"
requires = [
    "pdm-backend",
]
