import{r as B,i as b,E as ee,h as fe,j as N,l as X,k as x,m as P,n as ue,o as H,q as ie,v as ve,w as he,x as U,y as _e,z as pe,A as we,f as Q}from"./runtime.0RJBM7q3.js";import{z as Ee,A as O,B as ne,S as Z,C as le,D as L,E as ae,F as re,G as Ae,H as y,I as F,J as de}from"./render.nzFa6Bvq.js";import{s as te}from"./colors.2whzp6Sg.js";const J=-1,G=99999999,se=-2;function Ce(){}function oe(e,o,n,a,s,f,_){const E=(n&H)!==0,r=ie(n,e);let p=null;Ee(e,E);let C,h=null,u=null;r.r=l=>{const i=p,t=i.s;t.add(l),l.f(()=>{t.delete(l),t.size===0&&i.e!==null&&(i.d!==null&&(O(i.d),i.d=null),N(i.e),i.e=null)})};const v=()=>{const l={d:null,e:null,s:new Set,p},i=B(()=>{const t=r.d;t!==null&&(O(t),r.d=null);let w=r.a;(r.f&H)!==0&&(L===null?(w=de(),r.a.appendChild(w)):w=w.firstChild),f(w),l.d=r.d,r.d=null},r,!0);l.e=i,p=l},c=l=>{const i=l.f,t=(i&H)!==0,w=l.a;_(C,l,w,t,s,i,!0,h)},A=B(()=>{const l=o();C=b(l)?l:l==null?[]:Array.from(l),a!==null?h=C.map(a):n&ee||C.map(Ce);const i=C.length;if(f!==null){if(i===0){if(r.v.length!==0||u===null){c(r),v();return}}else if(r.v.length===0&&p!==null){const t=p,w=t.s;w.size===0?t.d!==null&&(O(t.d),t.d=null):ne(w,"out")}}u!==null&&ve(u)},r,!1);u=B(c,r,!0),fe(A,()=>{const l=r.f,i=r.a,t=(l&H)!==0;let w=p;for(;w!==null;){const I=w.d;I!==null&&O(I);const S=w.e;S!==null&&N(S),w=w.p}_([],r,i,t,s,l,!1,h),N(u)}),r.e=A}function Te(e,o,n,a,s,f){oe(e,o,n,a,s,f,Se)}function Le(e,o,n,a,s){oe(e,o,n,null,a,s,Ie)}function Ie(e,o,n,a,s,f,_){var E=Z in e&&e[Z].i,r=o.v,p=o.s;E&&(f&=~x);var C=r.length,h=e.length,u=Math.max(C,h),v=0,c,A;if(p.length!==0&&ce(p),h===0)for(c=[],a&&C!==0&&le(n);v<u;)A=r[v++],$(A,p,_,a);else{var l;if(c=Array(h),L!==null)for(var i=L[0];v<u;v++){l=E?X(e,v):e[v];var t=ae(i);re(t),i=t.at(-1).nextSibling.nextSibling,A=D(l,null,v,s,f),c[v]=A}else for(;v<u;v++)v>=C?(l=E?X(e,v):e[v],A=D(l,null,v,s,f),c[v]=A,g(A,n,a,null)):v>=h?(A=r[v],$(A,p,_)):(l=e[v],A=r[v],c[v]=A,T(A,l,v,f))}o.v=c}function Se(e,o,n,a,s,f,_,E){var r=o.v;const p=E!==null;var C=o.s,h=r.length,u=e.length,v,c;if(C.length!==0&&ce(C),u===0)for(v=[],a&&h!==0&&le(n);h>0;)c=r[--h],$(c,C,_,a);else{var A=h-1,l=u-1,i,t,w;if(v=Array(u),L!==null)for(var I,S=L[0];u>0;)w=l- --u,t=e[w],i=p?E[w]:t,I=ae(S),re(I),S=(I.at(-1)||S).nextSibling.nextSibling,c=D(t,i,w,s,f),v[w]=c;else if(h===0)for(;u>0;)w=l- --u,t=e[w],i=p?E[w]:t,c=D(t,i,w,s,f),v[w]=c,g(c,n,a,null);else{var K=(f&he)!==0,R=(f&(x|U))!==0||K,d=0,m=null;t=e[l],i=p?E[l]:t;e:for(;;){for(;r[A].k===i;){if(c=r[A--],t=e[l],R&&T(c,t,l,f),m=k(c),v[l]=c,d>--l||d>A)break e;i=p?E[l]:t}for(t=e[d],i=p?E[d]:t;d<=A&&d<=l&&r[d].k===i;)t=e[d],c=r[d],R&&T(c,t,d,f),v[d]=c,++d,i=p?E[d]:e[d];break}if(d>A)for(;l>=d;)t=e[l],i=p?E[l]:t,c=D(t,i,l,s,f),v[l--]=c,m=g(c,n,a,m);else if(d>l){u=d;do(c=r[u++])!==null&&$(c,C,_);while(u<=A)}else{var j=0,M=l-d+1,z=new Int32Array(M),V=new Map;for(u=0;u<M;++u)h=u+d,z[u]=J,t=e[h],i=p?E[h]:t,Ae(V,i,h);if(K)for(u=d;u<=A;++u)h=y(V,r[u].k),h!==void 0&&(t=e[h],c=r[u],T(c,t,h,f));for(u=d;u<=A;++u)h=y(V,r[u].k),c=r[u],h!==void 0?(j=j<h?h:G,z[h-d]=u,v[h]=c):c!==null&&$(c,C,_);j===G&&De(z);for(var Y,W,q;M-- >0;)l=M+d,h=z[M],q=h===-1,t=e[l],q?(i=p?E[l]:t,c=D(t,i,l,s,f)):(c=v[l],!K&&R&&T(c,t,l,f)),(q||j===G&&h!==se)&&(W=Y===void 0?m:k(Y),m=g(c,n,a,W)),v[l]=c,Y=c}}}o.v=v}function De(e){for(var o=e.length,n=new Int32Array(o),a=new Int32Array(o),s=0,f=0,_,E,r,p;e[f]===J;++f);for(a[0]=f++;f<o;++f)if(E=e[f],E!==J)if(_=a[s],e[_]<E)n[f]=_,a[++s]=f;else{for(r=0,p=s;r<p;)_=r+p>>1,e[a[_]]<E?r=_+1:p=_;E<e[a[r]]&&(r>0&&(n[f]=a[r-1]),a[r]=f)}for(_=a[s];s-->=0;)e[_]=se,_=n[_]}function g(e,o,n,a){var s=e.d;return a===null?n?F(s,o,null):F(s,o.parentNode,o):F(s,null,a)}function k(e){var o=e.d;return b(o)?o[0]:o}function ce(e){var o=e.length;if(o>0){for(var n=0,a,s;n<o;n++)a=e[n],s=a.r,s!==null&&(a.r=null,$(a,null,!1));e.length=0}}function T(e,o,n,a){a&x?P(e.v,o):ue(e.v)&&(e.v.o[e.v.p]=o);const s=e.s,f=(a&U)!==0,_=e.a;s!==null&&a&ee&&_!==null&&_(e,s),f?P(e.i,n):e.i=n}function $(e,o,n,a=!1){const s=e.s;if(n&&s!==null){for(let _ of s)_.r==="key"&&s.delete(_);if(s.size===0)e.s=null;else{ne(s,"out"),o!==null&&o.push(e);return}}const f=e.d;!a&&f!==null&&O(f),N(e.e)}function D(e,o,n,a,s){const _=(s&x)===0?e:s&pe?Q(e):we(e),E=s&U?Q(n):n,r=_e(_,E,o),p=B(C=>{a(null,C.v,C.i)},r,!0);return r.e=p,r}async function je(e){return await(await fetch(`/api/runs/${te(e)}/meta`)).json()}async function ze(e){return await(await fetch(`/api/runs/${te(e)}/data`)).json()}async function $e(){return await(await fetch("/api/runs")).json()}async function He(){const e={};for(const n of await $e()){const a=n.data_digest;e[`${a} ${n.metric} ${n.model}`]===void 0&&(e[`${a} ${n.metric} ${n.model}`]={data_digest:a,dataset:n.dataset,metric:n.metric,model:n.model,runs:[]}),e[`${a} ${n.metric} ${n.model}`].runs.push(n)}for(const n of Object.values(e))n.runs.sort((a,s)=>new Date(s.completed)-new Date(a.completed)),n.completed=n.runs[0].completed,n.score_summary=n.runs[0].score_summary;const o=[...Object.values(e)];return o.sort((n,a)=>new Date(a.completed)-new Date(n.completed)),o}export{Le as a,ze as b,$e as c,He as d,Te as e,je as l};
