(function(){"use strict";var t={4031:function(t,e,n){var s=n(6080),r=(n(8674),n(9601),n(7727),Vue),i=n.n(r),a=function(){var t=this,e=t._self._c;return e("trame-connect",{attrs:{"use-url":"","forward-errors":""}},[e("trame-template",{attrs:{"use-url":""}})],1)},o=[],l=function(){var t=this;t._self._c;return t.ready?t._t("default"):t._e()},c=[],u=(n(7658),n(3948),n(2023),n(285),n(1637),n(9714),n(4916),n(5306),n(8757),n(7807)),h=n(8923),m=n(2402),d=t=>({getArray(e,n=!0){return t.call("viewport.geometry.array.get",[e,n])},getViewState(e,n=!1){return t.call("viewport.geometry.view.get.state",[e,n])},addViewObserver(e){return t.call("viewport.geometry.view.observer.add",[e])},removeViewObserver(e){return t.call("viewport.geometry.view.observer.remove",[e])},subscribeToViewChange(e){return t.subscribe("viewport.geometry.view.subscription",e)},unsubscribe(e){return t.unsubscribe(e)}}),p=t=>({lifeCycleUpdate(e){return t.call("trame.lifecycle.update",[e])},sendError(e){return t.call("trame.error.client",[e])},getState(){return t.call("trame.state.get",[])},trigger(e,n=[],s={}){return t.call("trame.trigger",[e,n,s])},updateState(e){return t.call("trame.state.update",[e])},subscribeToStateUpdate(e){return t.subscribe("trame.state.topic",e)},subscribeToActions(e){return t.subscribe("trame.actions.topic",e)},unsubscribe(e){return t.unsubscribe(e)}}),f={SyncView:d,Trame:p};m.ZP.setSmartConnectClass(h.ZP);const y={},g={"http:":"ws:","https:":"wss:","ws:":"ws:","wss:":"wss:"},v=["unsubscribe","subscribeToViewChange","subscribeToStateUpdate","subscribeToActions","subscribeToViewChange"];function b(t){const e=(0,s.Z)({},t);if(e.sessionURL){let t=e.sessionURL.toLowerCase();const n=window.location;if(t.includes("use_")){const e=new URL(t);e.protocol=g[n.protocol],t=e.toString()}const s={use_hostname:n.hostname,use_host:n.host};for(const[e,r]of Object.entries(s))t=t.replaceAll(e,r);e.sessionURL=t}e.application=document.querySelector("html").dataset.appName||e.application;const n=document.querySelector("html").dataset.sessionManagerUrl||e.sessionManagerURL;return n&&(e.sessionManagerURL=n),e.useUrl?(0,s.Z)((0,s.Z)({},e),u.Z.extractURLParameters()):e}function w(){return m.ZP.newInstance({protocols:f,configDecorator:b,notBusyList:v})}function _(t){var e;let n=null===(e=y[t])||void 0===e?void 0:e.client;if(!n){n=w();const s=[],r={type:"created",message:"Client connected..."};function i(e){y[t].status=e}y[t]={client:n,status:r,subscriptions:s},s.push(n.onConnectionError((t=>{var e;i({type:"Connection error",message:null===t||void 0===t||null===(e=t.response)||void 0===e?void 0:e.error})}))),s.push(n.onConnectionClose((t=>{var e;i({type:"Connection closed",message:null===t||void 0===t||null===(e=t.response)||void 0===e?void 0:e.error})})))}return n}function T(t){y[t]=null}function C(t){return y[t].status}var S={getClient:_,resetClient:T,getStatus:C,configDecorator:b},$=(n(8862),n(9274)),R=n(7117);n(2707);const L={};function x(t,e){return t.priority-e.priority}function O(t){L.addAttachement=t}const A=2e6,k={priority:0,async decorate(t){if(null===t||void 0===t)return t;if(t.constructor&&t.constructor===File){const{name:e,lastModified:n,size:s,type:r}=t,i=await new Promise((e=>{const n=new FileReader;n.addEventListener("loadend",(()=>{e(n.result)})),n.readAsArrayBuffer(t)}));let a=null;if(i.byteLength<A)a=L.addAttachement(i);else{a=[];let t=0,e=A;while(t<i.byteLength)e>i.byteLength&&(e=i.byteLength),a.push(L.addAttachement(i.slice(t,e))),t=e,e+=A}return{name:e,lastModified:n,size:s,type:r,content:a,_filter:["content"]}}return t}},j={priority:0,async decorate(t){if(null===t||void 0===t)return t;if("string"===typeof t)return t;if(t.constructor&&t.constructor===FileList||t.length){const e=[];for(let n=0;n<t.length;n++)e.push(await k.decorate(t[n]));return e}return t}},N={priority:0,async decorate(t){if(null===t||void 0===t)return t;if("string"===typeof t)return t;if(t.constructor&&t.constructor===Object){const e={},n=Object.keys(t);for(let s=0;s<n.length;s++){const r=n[s];e[r]=t[r],e[r]=await j.decorate(e[r]),e[r]=await k.decorate(e[r])}return e}return t}},U=[k,j,N];function E(t){U.push(t),U.sort(x)}async function V(t){let e=t;for(let n=0;n<U.length;n++){if(null===e||void 0===e)return e;e=await U[n].decorate(e)}return e}const Z=["type","key","keyCode","controlKey","altKey","shiftKey","position","spinX","spinY","pixelX","pixelY"];function I(t){const e={};for(let n=0;n<Z.length;n++){const s=Z[n];s in t&&(e[s]=t[s])}return e}var P={event:I};n(6977);function B(t,e=[],n=1e3,s=2){if(null===t)return null;for(let r=0;r<e.length;r++){const i=Array.isArray(n)?n[r]:n,a=e[r];if(!(t>i))return`${t.toFixed(s)} ${a}`;t/=i}return`${t.toFixed(s)} ${n[n.length-1]}`}function D(t,e=2){return B(t,["B","KB","MB","GB","TB","PB"],1024,e)}var H={number:B,bytes:D};async function K(t,e,n="application/octet-stream"){const s=await Promise.resolve(e),r=new Blob([s],{type:n}),i=URL.createObjectURL(r),a=document.createElement("a");a.setAttribute("href",i),a.setAttribute("download",t),document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout((()=>URL.revokeObjectURL(i)),1e3)}function M(t,e=window){let n=e;const s=t.split(".");for(let r=0;r<s.length;r++)n=n[s[r]];return n}function J(t){try{return JSON.stringify(t),t}catch(s){}const e={},n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];if(Array.isArray(a))e[i]=a.map(J);else try{JSON.stringify(a),e[i]=a}catch(s){continue}}return e}function F(t,e,n){const s={id:t},r=e?`${e}: `:"";return Array.isArray(n)?(s.name=`${r}[]`,n.length&&(s.children=[]),s):null!==n&&n?"function"===typeof n?(s.name=`${r}function`,s):"object"===typeof n?(s.name=`${r}{}`,Object.keys(n).length&&(s.children=[]),s):(s.name=`${r}${n}`,s):(s.name=`${r}${n}`,s)}function q(t,e,n,s){const r=F(e,n,s);t.push(r),r.children&&z(e,r.children,s)}function z(t,e,n){if(Array.isArray(n)){const s=null;for(let r=0;r<n.length;r++)q(e,`${t}_${r}`,s,n[r])}else{const s=Object.keys(n);for(let r=0;r<s.length;r++){const i=s[r];q(e,`${t}_${r}`,i,n[i])}}}function G(t){const e=[];return z("",e,t),e}var W={download:K,get:M,safe:J,tree:G,vtk:P,fmt:H};const X={};function Y(t){const e={tts:0};return t.forEach((t=>{e[t]=0})),new(i())({data:e})}function Q(t,e){function n(t){for(let n=0;n<t.length;n++)e[t[n]]++}return t.$on("stateChange",n),()=>{t.$off("stateChange",n)}}function tt(t,e,n){const s={};return e.forEach((e=>{s[e]={get(){return n[e],t.state.get(e)},set(n){t.state.set(e,n)}}})),s}window.trame||(window.trame={}),window.trame.utils||(window.trame.utils=W),window.trame.state||(window.trame.state=X);const et={},nt={};async function st(t,e){for(let n=0;n<t.length;n++)await e(t[n])}function rt(t,e){const n=[],s={};for(let a=0;a<t.length;a++){let e=n,r=t[a];if(Array.isArray(r)){const t=r[1].serial;t&&(s[t]||(s[t]=[]),e=s[t]),[r]=r}e.push(r)}const r=n.map(e),i=Object.values(s);for(let a=0;a<i.length;a++)r.push(st(i[a],e));return Promise.all(r)}async function it(t,e,n=[]){const s=t=>!n.includes(t);t.includes("trame__styles")&&await rt(e.trame__styles.filter(s),$.j),t.includes("trame__scripts")&&await rt(e.trame__scripts.filter(s),$.ve),t.includes("trame__vue_use")&&e.trame__vue_use.forEach((t=>{let e=t,s={};Array.isArray(t)&&([e,s]=t);let r=W.get(e);r?nt[e]||n.includes(e)||(nt[e]=!0,r.default&&(r=r.default),console.info(`Vue.use(${e}, ${JSON.stringify(s)}) - ${!!r} - install(${!!r.install})`),r.install?(i().use(r,s),r.getOptions&&Object.assign(et,r.getOptions())):i().use({install:r},s)):console.error(`Lookup error: Vue.use(${e}, ${JSON.stringify(s)})`)})),t.includes("trame__favicon")&&e.trame__favicon&&(document.querySelector("link[rel=icon]").href=e.trame__favicon),t.includes("trame__title")&&e.trame__title&&(document.title=e.trame__title)}class at{constructor(t,e=null,n=[]){this.name="Default trame application",this.vueInstance=t,this.client=(null===t||void 0===t?void 0:t.client)||e,this.exclude=(null===t||void 0===t?void 0:t.exclude)||n,this.subscriptions=[],this.state={},this.keyTS={},this.ts=0,this.trameTemplateTS=0,this.trameTemplate={template:"<div>Too early for trame template</div>"},this.dirtyKeys=new Set,this.registerDecorator=E;const s=async t=>{const e=[],n=Object.keys(t);for(let a=0;a<n.length;a++){var s;let r=!0;const i=n[a],o=t[i];if(null!==o&&void 0!==o&&null!==(s=o._filter)&&void 0!==s&&s.length){r=!1;const t=this.state[i],e=Object.keys(o);for(let n=0;!r&&n<e.length;n++){const s=e[n];"_"!==s[0]&&(void 0!==t&&t[s]===o[s]||(r=!0))}}r&&(e.push(i),this.state[i]=o)}this.ts+=1;let r=0;for(let a=0;a<e.length;a++){const t=e[a];void 0===this.keyTS[t]&&r++,this.keyTS[t]=this.ts}var i;if((await it(e,this.state,this.exclude),r&&(this.updateTrameTemplate(),this.vueInstance&&this.vueInstance.$emit("trameTemplateChange",this.trameTemplateTS)),this.vueInstance)&&(this.vueInstance.$emit("stateChange",e),this.vueInstance.$router&&null!==t&&void 0!==t&&null!==(i=t.trame__routes)&&void 0!==i&&i.length)){const e=this.vueInstance.$router;t.trame__routes.forEach((t=>{e.addRoute(t)}))}};this.subscriptions.push(this.client.getRemote().Trame.subscribeToStateUpdate((([t])=>s(t)))),this.client.getRemote().Trame.getState().then((({state:e,name:n})=>{this.name=n,s(e),t&&(t.ready=!0)})),this._updateFromServer=s}updateTrameTemplate(){if(!this.vueInstance)return;this.trameTemplateTS+=1;const t=Object.keys(this.state),e=Y(t),n=Q(this.vueInstance,e),r=tt(this.vueInstance,t,e);let i=0;this.trameTemplate={name:"TrameTemplateInternal",inject:["trame"],props:{templateName:{type:String,default:"main"}},components:{VRuntimeTemplate:R.Z},computed:(0,s.Z)((0,s.Z)({},r),{},{contentTemplate(){const t=`trame__template_${this.templateName}`;return this[t]||`<div>No state variable for ${t} with the following state.<br><pre>${JSON.stringify(this.trame.state.get(),null,2)}</pre></div>`},tts(){return e.tts},utils(){return W}}),watch:{contentTemplate(){setTimeout((()=>e.tts+=1),10)}},methods:{set(t,e){return this.trame.state.set(t,e)},get(t=null){return this.trame.state.get(t)},setAll(t){return this.trame.state.update(t)},flushState(...t){return this.trame.state.flush(...t)},registerDecorator(...t){return this.trame.state.registerDecorator(...t)},async trigger(t,e=[],n={}){let s=[];const r={};if(e){const t=e.map((t=>V(t)));s=await Promise.all(t)}if(n){const t=[],e=[];Object.entries(n).forEach((n=>{t.push(n[0]),e.push(V(n[1]))}));const s=await Promise.all(e);for(let n=0;n<t.length;n++)r[t[n]]=s[n]}return await this.trame.client.getRemote().Trame.trigger(t,s,r)},getRef(t){const{trameTemplateRootRef:e}=this.$refs;return e.$refs&&e.$refs[t]?e.$refs[t]:e.$children[0].$refs[t]},execAction(t){const{ref:e,type:n}=t,s=this.getRef(e);if(s&&"method"===n){const{method:e,args:n}=t;s[e](...n)}if(s&&"property"===n){const{property:e,value:n}=t;s[e]=n}}},created(){i++,this.onActions=([t])=>{for(let e=0;e<t.length;e++)this.execAction(t[e])},this.clientSub=this.trame.client.getRemote().Trame.subscribeToActions(this.onActions),X.set=(t,e)=>this.set(t,e),X.get=t=>this.get(t),X.setAll=t=>this.setAll(t),X.flushState=(...t)=>this.flushState(...t),X.registerDecorator=(...t)=>this.registerDecorator(...t),X.trigger=async(t,e=[],n={})=>this.trigger(t,e,n)},beforeDestroy(){i--,0===i&&n(),this.trame.client.getRemote().Trame.unsubscribe(this.clientSub)},template:'<v-runtime-template ref="trameTemplateRootRef" :template="contentTemplate" />'}}delete(){while(this.subscriptions.length)this.client.getRemote().Trame.unsubscribe(this.subscriptions.pop())}get(t){return void 0===t?this.state:this.state[t]}getTimeStamp(t){return this.keyTS[t]||0}async set(t,e){this.state[t]!==e&&(this.ts+=1,this.state[t]=e,this.keyTS[t]=this.ts,this.dirty(t),await this.flush())}async update(t){this.ts+=1;for(const[e,n]of Object.entries(t))this.state[e]!==n&&(this.state[e]=n,this.keyTS[e]=this.ts,this.dirty(e));await this.flush()}canDirty(t){return!this.state.trame__client_only.includes(t)}dirty(...t){t.forEach((t=>{this.canDirty(t)&&this.dirtyKeys.add(t),this.vueInstance&&this.vueInstance.$emit("stateChange",[t])}))}async flush(...t){if(t.length&&t.forEach((t=>{Array.isArray(t)?this.dirty(...t):this.dirty(t)})),this.dirtyKeys.size&&!this.client.isBusy()){const t=[],e=[];this.dirtyKeys.forEach((n=>{t.push(V(this.state[n])),e.push(n)})),this.dirtyKeys.clear();const n=await Promise.all(t),s=e.map(((t,e)=>({key:t,value:n[e]})));await this.client.getRemote().Trame.updateState(s),this.dirtyKeys.size&&this.flush()}this.vueInstance&&!this.vueInstance.connected&&this._updateFromServer(this.state)}}var ot={name:"TrameConnect",props:{name:{type:String,default:"TrameConnect"},config:{type:Object,default:()=>({application:"trame"})},exclude:{type:Array,default:()=>[]},useUrl:{type:Boolean,default:!1},forwardErrors:{type:Boolean,default:!1}},data(){return{ready:!1,connected:!1,busy:1,status:{type:"created",message:"Connecting..."}}},async created(){await this.connect()},beforeDestroy(){this.client.getRemote().Trame.lifeCycleUpdate("client_unmounted");while(this.subscriptions.length)this.subscriptions.pop().unsubscribe();this.state&&(this.state.delete(),this.state=null)},methods:{reportError(t="Something unexpected happened..."){var e,n;let s="trame__template_main";this.useUrl&&u.Z.extractURLParameters().ui&&(s=`trame__template_${u.Z.extractURLParameters().ui}`),null!==this&&void 0!==this&&null!==(e=this.client)&&void 0!==e&&null!==(n=e.getConfig())&&void 0!==n&&n.reconnect?this.state.set(s,`<trame-reconnect message="${t}"/>`):this.state.set(s,`<trame-loading message="${t}"/>`)},async connect(){if(!this.connected){if(this.client){this.previousConfig=this.client.getConfig();while(this.subscriptions.length)this.subscriptions.pop().unsubscribe();this.state&&(this.state.delete(),this.state=null),S.resetClient(this.name)}if(this.subscriptions=[],this.client=S.getClient(this.name),this.subscriptions.push(this.client.onBusyChange((t=>{const e=!t!==!this.busy;this.busy=t,e&&this.state&&this.state.set("trame__busy",t),0===t&&this.state.flush(),e&&this.$emit("busyChange",t)}))),this.subscriptions.push(this.client.onConnectionError((t=>{var e,n;this.connected=!1,this.status={type:"Connection error",message:null===t||void 0===t||null===(e=t.response)||void 0===e?void 0:e.error},this.reportError((null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.error)||"Connection error"),this.$emit("statusChange",this.status)}))),this.subscriptions.push(this.client.onConnectionClose((t=>{var e,n;this.connected=!1,this.status={type:"Connection closed",message:null===t||void 0===t||null===(e=t.response)||void 0===e?void 0:e.error},this.reportError((null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.error)||"Connection closed"),this.$emit("statusChange",this.status)}))),this.client.isConnected())this.status=S.getStatus(this.name),this.$emit("statusChange",this.status);else{const t=this.previousConfig||S.configDecorator((0,s.Z)((0,s.Z)({},this.config),{},{useUrl:this.useUrl}));await this.client.connect(t),this.lastConfig=this.client.getConfig(),O(this.client.getConnection().getSession().addAttachment),this.status={type:"Connected"}}if(this.connected=this.client.isConnected(),this.busy=this.client.isBusy(),this.$emit("statusChange",this.status),this.connected&&(this.state=new at(this)),this.client.getRemote().Trame.lifeCycleUpdate("client_connected"),window.addEventListener("beforeunload",(()=>this.client.getRemote().Trame.lifeCycleUpdate("client_exited"))),this.forwardErrors){const t=console.error;console.error=(...e)=>{try{this.client.getRemote().Trame.sendError(e.join(" "))}catch(n){t(n)}finally{t(...e)}},window.addEventListener("error",(t=>{console.error(`${t.type}: ${t.message}`)}))}}},async trigger(t,e=[],n={}){let s=[];const r={};if(e){const t=e.map((t=>V(t)));s=await Promise.all(t)}if(n){const t=[],e=[];Object.entries(n).forEach((n=>{t.push(n[0]),e.push(V(n[1]))}));const s=await Promise.all(e);for(let n=0;n<t.length;n++)r[t[n]]=s[n]}return await this.client.getRemote().Trame.trigger(t,s,r)}},provide(){return{trame:this}}},lt=ot,ct=n(1001),ut=(0,ct.Z)(lt,l,c,!1,null,null,null),ht=ut.exports,mt=function(){var t=this,e=t._self._c;return e("trame-template-internal",{key:t.trameTemplateTS,attrs:{templateName:t.tName}})},dt=[],pt={name:"TrameServerTemplate",inject:["trame"],props:{templateName:{type:String,default:"main"},urlKey:{type:String,default:"ui"},useUrl:{type:Boolean,default:!1}},data(){return{trameTemplateTS:0}},computed:{tName(){return this.useUrl&&u.Z.extractURLParameters()[this.urlKey]?u.Z.extractURLParameters()[this.urlKey]:this.templateName}},created(){this.onNewTemplate=()=>{this.$options.components.trameTemplateInternal=this.trame.state.trameTemplate,this.trameTemplateTS=this.trame.state.trameTemplateTS},this.trame.$on("trameTemplateChange",this.onNewTemplate),this.onNewTemplate()},beforeDestroy(){this.trame.$off("trameTemplateChange",this.onNewTemplate)}},ft=pt,yt=(0,ct.Z)(ft,mt,dt,!1,null,null,null),gt=yt.exports,vt={name:"App",components:{TrameConnect:ht,TrameServerTemplate:gt}},bt=vt,wt=(0,ct.Z)(bt,a,o,!1,null,null,null),_t=wt.exports,Tt=function(){var t=this,e=t._self._c;return e("div",{class:t.$style.container},[e("div",{class:t.$style.loader}),e("div",{class:t.$style.message},[t._v(" "+t._s(t.message)+" ")])])},Ct=[],St={name:"Loading",props:{message:{type:String,default:"Loading..."}}},$t=St,Rt={container:"style_container_VCsHx",loader:"style_loader_CNsNi",spin:"style_spin_BAaPb",message:"style_message_rmggO"};function Lt(t){this["$style"]=Rt.locals||Rt}var xt=(0,ct.Z)($t,Tt,Ct,!1,Lt,null,null),Ot=xt.exports,At=function(){var t=this,e=t._self._c;return e("div",{class:t.$style.container},[e("div",{class:t.$style.center},[e("div",{class:t.$style.button,on:{click:t.reconnect}},[e("svg",{staticStyle:{width:"24px"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M4,1C2.89,1 2,1.89 2,3V7C2,8.11 2.89,9 4,9H1V11H13V9H10C11.11,9 12,8.11 12,7V3C12,1.89 11.11,1 10,1H4M4,3H10V7H4V3M14,13C12.89,13 12,13.89 12,15V19C12,20.11 12.89,21 14,21H11V23H23V21H20C21.11,21 22,20.11 22,19V15C22,13.89 21.11,13 20,13H14M3.88,13.46L2.46,14.88L4.59,17L2.46,19.12L3.88,20.54L6,18.41L8.12,20.54L9.54,19.12L7.41,17L9.54,14.88L8.12,13.46L6,15.59L3.88,13.46M14,15H20V19H14V15Z"}})]),t._v(" "+t._s(t.message)+" ")])])])},kt=[],jt={name:"Reconnect",props:{message:{type:String,default:"Click to reconnect..."},maxRetry:{type:Number,default:10},delay:{type:Number,default:500}},methods:{async reconnect(){await this.trame.connect()},resetRetry(){this.interval&&(clearInterval(this.interval),this.interval=null)}},mounted(){var t,e,n;this.retryCount=0;const s=null===(t=this.trame)||void 0===t||null===(e=t.client)||void 0===e||null===(n=e.getConfig())||void 0===n?void 0:n.reconnect;s&&(console.log("reconnect",s),"auto"===s&&(this.interval=setInterval((()=>{this.retryCount++<this.maxRetry?this.reconnect():this.resetRetry()}),this.delay)))},beforeDestroy(){this.resetRetry()},inject:["trame"]},Nt=jt,Ut={container:"style_container_n4xKQ",center:"style_center_xzh58",button:"style_button_kGhdk"};function Et(t){this["$style"]=Ut.locals||Ut}var Vt=(0,ct.Z)(Nt,At,kt,!1,Et,null,null),Zt=Vt.exports,It=function(){var t=this;t._self._c;return t._t("default",null,null,t.state)},Pt=[];function Bt(...t){const e={};for(let n=0;n<t.length;n++)e[t[n]]=null;return e}function Dt(t,e,...n){return s=>{const{state:r}=t,i=new Set(s);for(let t=0;t<n.length;t++){const s=n[t];i.has(s)&&(e[s]=r.get(s))}}}var Ht={inject:["trame"],name:"TrameStateResolver",props:{names:{type:Array,default:()=>[]}},data(){return Bt(...this.names)},computed:{state(){const t={trame:this.trame,set:(...t)=>this.trame.state.set(...t)};for(let e=0;e<this.names.length;e++){const n=this.names[e];t[n]=this[n]}return t}},created(){this.onStateChange=Dt(this.trame,this,...this.names),this.trame.$on("stateChange",this.onStateChange),this.onStateChange(this.names)},beforeDestroy(){this.trame.$off("stateChange",this.onStateChange)},provide(){return{state:this}}},Kt=Ht,Mt=(0,ct.Z)(Kt,It,Pt,!1,null,null,null),Jt=Mt.exports;let Ft=1;function qt(){return"trame_style_elem_"+Ft++}var zt,Gt,Wt={name:"TrameStyle",props:{css:{type:String,default:""}},watch:{css(t){this.updateStyle(t)}},created(){this.elemId=qt(),this.updateStyle(this.css)},beforeDestroy(){this.removeStyle()},methods:{updateStyle(t){let e=document.querySelector(`#${this.elemId}`);t?(e||(e=document.createElement("style"),e.id=this.elemId,document.head.appendChild(e)),e.innerHTML=t):this.removeStyle()},removeStyle(){const t=document.querySelector(`#${this.elemId}`);t&&t.parentNode.removeChild(t)}}},Xt=Wt,Yt=(0,ct.Z)(Xt,zt,Gt,!1,null,null,null),Qt=Yt.exports,te={name:"TrameExec",props:["event"],methods:{exec(t){void 0===t?this.$emit("exec",this.event):this.$emit("exec",t)}}};n(2262),n(4506);const{inject:ee,ref:ne,onBeforeMount:se,onBeforeUnmount:re,watch:ie}=window.Vue;var ae={props:["name"],setup(t){const e=ee("trame"),n=ne(null),s=ne(null);function r(n,s){const r=JSON.parse(JSON.stringify(e.state.get(t.name)));let i=r;const a=String(n).split(".");for(let t=0;t<a.length-1;t++)i=i[a[t]];i[a.at(-1)]=s,e.state.set(t.name,r)}function i(n){e.state.set(t.name,n)}function a(){const r=e.state.get(t.name);s.value!==t.name&&(s.value=t.name),r!==n.value&&(n.value=r)}return ie((()=>t.name),a),se((()=>{e.$on("stateChange",a),a()})),re((()=>{e.$off("stateChange",a)})),{computedValue:n,computedName:s,updateNested:r,update:i}},template:'<slot :keyName="computedName" :update="update" :updateNested="updateNested" :value="computedValue"></slot>'},oe={TrameApp:_t,TrameConnect:ht,TrameLoading:Ot,TrameReconnect:Zt,TrameTemplate:gt,TrameStateResolver:Jt,TrameStyle:Qt,TrameExec:te,TrameGetter:ae},le={install(t){Object.keys(oe).forEach((e=>{t.component(e,oe[e])}))}};const ce="TrameConnect";function ue(){const t=S.getStatus(ce),e=document.querySelector(".trame__message");e?e.innerHTML=t.message||t.type:console.error("WsError",t.message||t.type)}async function he(t){try{var e,n,r;null!==(e=window)&&void 0!==e&&null!==(n=e.parent)&&void 0!==n&&null!==(r=n.trameJupyter)&&void 0!==r&&r.init&&(window.WSLINK=window.parent.trameJupyter.init(window))}catch(o){}t.use(le);const i=S.getClient(ce);try{await i.connect(S.configDecorator({application:"trame",useUrl:!0}))}catch(o){return void ue()}i.onConnectionError(ue),i.onConnectionClose(ue),O(i.getConnection().getSession().addAttachment);const{state:a}=await i.getRemote().Trame.getState();await it(Object.keys(a),a),new t((0,s.Z)((0,s.Z)({},et),{},{render:t=>t(_t)})).$mount("#app")}he(i())}},e={};function n(s){var r=e[s];if(void 0!==r)return r.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,s,r,i){if(!s){var a=1/0;for(u=0;u<t.length;u++){s=t[u][0],r=t[u][1],i=t[u][2];for(var o=!0,l=0;l<s.length;l++)(!1&i||a>=i)&&Object.keys(n.O).every((function(t){return n.O[t](s[l])}))?s.splice(l--,1):(o=!1,i<a&&(a=i));if(o){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[s,r,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,s){var r,i,a=s[0],o=s[1],l=s[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(l)var u=l(n)}for(e&&e(s);c<a.length;c++)i=a[c],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(u)},s=self["webpackChunktrame_components"]=self["webpackChunktrame_components"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(4031)}));s=n.O(s)})();
//# sourceMappingURL=app.ec4d76f4.js.map