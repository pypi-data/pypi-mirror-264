import{v as g,o as Y,S as j,y as i,z as h,A as a,$ as Q,x as o,ak as U,K as V,l as m,B as p,E as r,R as q,N as l,I as C,M as J,ab as X,J as b,L as u,a2 as k,_ as Z,r as R,c as x,F as $,G as w,D as ee,W}from"./index-d30f8f91.js";import{_ as te}from"./PanelviewItem.vue_vue_type_style_index_0_lang-799fdbe5.js";import{i as ie,e as ae}from"./contextmenu-4317d264.js";import{_ as se,i as re,V as le}from"./VBadge-e63fec5e.js";import{L as ne,a as oe,C as ue}from"./Container-7b7ef2f1.js";import{l as me,n as P}from"./forwardRefs-c06b0d84.js";import{V as de}from"./VCard-968036d6.js";import{V as H}from"./VToolbar-4806f7a1.js";import"./VTooltip-95ea0886.js";import"./VCheckboxBtn-9fd04a36.js";import"./VSlideGroup-291987af.js";import"./VMenu-1af7e2f1.js";/* empty css              */import"./VCardText-fa5e2de2.js";const K=g({__name:"Carousel",setup(L){return Y(()=>{document.documentElement.style.setProperty("--swiper-navigation-color","primary")}),(t,f)=>{const n=j("swiper");return i(),h(n,{"slides-per-view":o(U)(t.$vuetify.display.width)+.5,"space-between":24,"free-mode":!0,navigation:!o(V)({breakpoint:"mobile"})},{default:a(()=>[Q(t.$slots,"default")]),_:3},8,["slides-per-view","navigation"])}}}),ce={class:"media-thumb player-media-thumb"},pe={style:{cursor:"pointer"}},_e={key:0},ye={key:0},ve={key:1},he={key:2},fe={style:{cursor:"pointer"},class:"line-clamp-1"},be={key:0},ke={key:1},qe={key:2,class:"line-clamp-1"},Ce={key:3,class:"line-clamp-1"},Pe={key:4,class:"line-clamp-1"},$e={key:5,class:"line-clamp-1"},we={style:{cursor:"pointer"}},Ve={style:{cursor:"pointer",fontWeight:"bold"}},ge=g({__name:"PanelviewPlayerCard",props:{queue:{}},setup(L){return(t,f)=>(i(),h(de,{class:Z(["panel-item",{"panel-item-selected":o(b).selectedPlayerId==t.queue.queue_id,"panel-item-idle":t.queue.state==o(k).IDLE}])},{default:a(()=>[m(ne,{class:"panel-item-details"},{prepend:a(()=>{var n;return[p("div",ce,[m(se,{size:"60",item:((n=t.queue.current_item)==null?void 0:n.media_item)||t.queue.current_item,fallback:o(re),style:{cursor:"pointer"}},null,8,["item","fallback"])])]}),title:a(()=>{var n,_,y,e,d,c;return[p("div",pe,[(n=t.queue.current_item)!=null&&n.media_item?(i(),r("div",_e,[q(l((_=t.queue.current_item)==null?void 0:_.media_item.name)+" ",1),"version"in((y=t.queue.current_item)==null?void 0:y.media_item)&&((e=t.queue.current_item)!=null&&e.media_item.version)?(i(),r("span",ye,"("+l((d=t.queue.current_item)==null?void 0:d.media_item.version)+")",1)):C("",!0)])):t.queue.current_item?(i(),r("div",ve,l((c=t.queue.current_item)==null?void 0:c.name),1)):(i(),r("div",he,l(t.queue.display_name),1))])]}),subtitle:a(()=>{var n,_,y,e,d,c,s,v,D,S,E,A,z,B,N,M,T,O,F,G,I;return[p("div",fe,[(n=t.queue.current_item)!=null&&n.media_item&&((y=(_=t.queue.current_item)==null?void 0:_.media_item)==null?void 0:y.media_type)==o(J).TRACK&&"album"in((e=t.queue.current_item)==null?void 0:e.media_item)&&((d=t.queue.current_item)!=null&&d.media_item.album)?(i(),r("div",be,l(o(X)((c=t.queue.current_item)==null?void 0:c.media_item.artists))+" â€¢ "+l((s=t.queue.current_item)==null?void 0:s.media_item.album.name),1)):(v=t.queue.current_item)!=null&&v.media_item&&"artists"in((D=t.queue.current_item)==null?void 0:D.media_item)&&((S=t.queue.current_item)==null?void 0:S.media_item.artists.length)>0?(i(),r("div",ke,l((E=t.queue.current_item)==null?void 0:E.media_item.artists[0].name),1)):(z=(A=t.queue.current_item)==null?void 0:A.streamdetails)!=null&&z.stream_title?(i(),r("div",qe,l((N=(B=t.queue.current_item)==null?void 0:B.streamdetails)==null?void 0:N.stream_title),1)):(T=(M=t.queue.current_item)==null?void 0:M.media_item)!=null&&T.metadata.description?(i(),r("div",Ce,l((O=t.queue.current_item)==null?void 0:O.media_item.metadata.description),1)):t.queue.items==0?(i(),r("div",Pe,l(t.$t("queue_empty")),1)):((F=o(b).selectedPlayer)==null?void 0:F.active_source)!=((G=o(b).selectedPlayer)==null?void 0:G.player_id)?(i(),r("div",$e,l(t.$t("external_source_active",[(I=o(b).selectedPlayer)==null?void 0:I.active_source])),1)):C("",!0)])]}),default:a(()=>[p("div",we,[p("div",null,[q(" on "),p("span",Ve,l(t.queue.display_name),1)])])]),append:a(()=>[m(me,{icon:"",variant:"text",onClick:f[0]||(f[0]=n=>o(u).queueCommandPlayPause(t.queue.queue_id))},{default:a(()=>[t.queue.state==o(k).PLAYING?(i(),h(P,{key:0,size:o(V)({breakpoint:"phone"})?"24":"32"},{default:a(()=>[q("mdi-pause-circle-outline")]),_:1},8,["size"])):(i(),h(P,{key:1,size:o(V)({breakpoint:"phone"})?"24":"32"},{default:a(()=>[q("mdi-play-circle-outline")]),_:1},8,["size"]))]),_:1})]),_:1})]),_:1},8,["class"]))}});const Le=oe(ge,[["__scopeId","data-v-cec58dcd"]]),De={key:0,class:"widget-row"},Se={class:"mr-3"},Ee={key:0,class:"widget-row"},Ae={class:"mr-3"},ze={key:1,class:"mr-3"},Qe=g({__name:"HomeView",setup(L){const t=R({recently_played:{label:"recently_played",icon:"mdi-motion-play",items:[]},artists:{label:"artists",icon:"mdi-account-music",path:"/artists",items:[]},albums:{label:"albums",icon:"mdi-album",path:"/albums",items:[]},playlists:{label:"playlists",icon:"mdi-playlist-music",path:"/playlists",items:[]},tracks:{label:"tracks",icon:"mdi-file-music",path:"/tracks",items:[]},radios:{label:"radios",icon:"mdi-radio",path:"/radios",items:[]},browse:{label:"browse",icon:"mdi-folder",path:"/browse",items:[]}});Y(async()=>{u.getRecentlyPlayedItems(20).then(e=>{t.value.recently_played.items=e}),u.getLibraryArtists(void 0,void 0,20,void 0,"RANDOM()").then(e=>{t.value.artists.items=e.items,t.value.artists.count=e.total}),u.getLibraryAlbums(void 0,void 0,20,void 0,"timestamp_added DESC").then(e=>{t.value.albums.items=e.items,t.value.albums.count=e.total}),u.getLibraryPlaylists(void 0,void 0,20,void 0,"timestamp_added DESC").then(e=>{t.value.playlists.items=e.items,t.value.playlists.count=e.total}),u.getLibraryRadios(void 0,void 0,20,void 0,"timestamp_added DESC").then(e=>{t.value.radios.items=e.items,t.value.radios.count=e.total}),u.getLibraryTracks(void 0,void 0,20,void 0,"timestamp_added DESC").then(e=>{t.value.tracks.items=e.items,t.value.tracks.count=e.total}),await u.browse("",e=>{t.value.browse.items.push(...e)})});const f={[k.PLAYING]:1,[k.PAUSED]:2,[k.IDLE]:2},n=x(()=>Object.values(u.queues).filter(e=>e.active&&e.items>0&&e.queue_id in u.players&&u.players[e.queue_id].powered).sort((e,d)=>e.display_name.localeCompare(d.display_name)).sort((e,d)=>f[e.state]-f[d.state])),_=function(e){ie(e)&&["artist","album","playlist"].includes(e.media_type)?W.push({name:e.media_type,params:{itemId:e.item_id,provider:e.provider}}):e.media_type===J.FOLDER?W.push({name:"browse",query:{path:e.path}}):ae.emit("playdialog",{items:[e],showContextMenuItems:!0})},y=function(e){e&&e.queue_id in u.players&&(b.selectedPlayerId=e.queue_id)};return(e,d)=>{const c=j("swiper-slide");return i(),r("div",null,[m(ue,{variant:"panel"},{default:a(()=>[n.value.length?(i(),r("div",De,[m(H,{color:"transparent",style:{width:"fit-content"}},{prepend:a(()=>[m(P,{icon:"mdi-playlist-play"})]),title:a(()=>[p("span",Se,l(e.$t("currently_playing")),1)]),_:1}),m(K,null,{default:a(()=>[(i(!0),r($,null,w(n.value,s=>(i(),h(c,{key:s.queue_id,style:{"min-width":"300px","max-width":"500px"}},{default:a(()=>[m(Le,{queue:s,onClick:v=>y(s)},null,8,["queue","onClick"])]),_:2},1024))),128))]),_:1})])):C("",!0),(i(!0),r($,null,w(t.value,s=>(i(),r("div",{key:s.label},[s.items.length?(i(),r("div",Ee,[m(H,{color:"transparent",style:ee(s.path?"cursor: pointer; width: fit-content;":"width: fit-content;"),onClick:v=>s.path?e.$router.replace(s.path):""},{prepend:a(()=>[m(P,{icon:s.icon},null,8,["icon"])]),title:a(()=>[s.count?(i(),h(le,{key:0,inline:"",color:"grey",content:s.count},{default:a(()=>[p("span",Ae,l(e.$t(s.label)),1)]),_:2},1032,["content"])):(i(),r("span",ze,l(e.$t(s.label)),1))]),_:2},1032,["style","onClick"]),m(K,null,{default:a(()=>[(i(!0),r($,null,w(s.items,v=>(i(),h(c,{key:v.uri},{default:a(()=>[m(te,{item:v,"show-checkboxes":!1,"show-track-number":!1,"is-selected":!1,onClick:_},null,8,["item"])]),_:2},1024))),128))]),_:2},1024)])):C("",!0)]))),128))]),_:1})])}}});export{Qe as default};
