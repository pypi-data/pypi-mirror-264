import{p as q,ad as z,z as E,F as J,e as K,c as O,ae as Q,J as p,u as D,M as $,N as W,l as r,m as V,w,Q as s,$ as a,O as t,S as n,q as P,V as d,K as T,r as g,v as G,o as X,a3 as M}from"./index-966f7f24.js";import{f as _}from"./utils-6f3c77d7.js";import{b as I}from"./VCard-f534a22a.js";import{V as A}from"./VTable-b03b9a91.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import{V as Y}from"./VToolbar-4fa32985.js";import{V as Z}from"./VDivider-b2a222eb.js";import{m as ee,a as x,V as se}from"./VSelect-4ce7e6cc.js";import{m as te,u as oe,V as B}from"./VTextField-bddeb52f.js";import{i as ae}from"./VImg-be0bd66e.js";import"./VAvatar-0bab3ea1.js";import"./index-6b660d06.js";import"./forwardRefs-efacd11c.js";import"./VList-332b5518.js";import"./VOverlay-aba1d54e.js";import"./scopeId-70efedda.js";import"./resizeObserver-b8ff4a76.js";import"./VSlideGroup-308a2eac.js";const re=q({...te(),...z(ee(),["inline"])},"VCheckbox"),le=E()({name:"VCheckbox",inheritAttrs:!1,props:re(),emits:{"update:modelValue":i=>!0,"update:focused":i=>!0},setup(i,u){let{attrs:m,slots:e}=u;const c=J(i,"modelValue"),{isFocused:o,focus:l,blur:C}=oe(i),h=K(),k=O(()=>i.id||`checkbox-${h}`);return ae(()=>{const[y,v]=Q(m),f=B.filterProps(i),U=x.filterProps(i);return p(B,D({class:["v-checkbox",i.class]},y,f,{modelValue:c.value,"onUpdate:modelValue":b=>c.value=b,id:k.value,focused:o.value,style:i.style}),{...e,default:b=>{let{id:N,messagesId:H,isDisabled:L,isReadonly:R,isValid:S}=b;return p(x,D(U,{id:N.value,"aria-describedby":H.value,disabled:L.value,readonly:R.value},v,{error:S.value===!1,modelValue:c.value,"onUpdate:modelValue":j=>c.value=j,onFocus:l,onBlur:C}),e)}})}),{}}}),ne={class:"bg-primary"},de={class:"w-24 px-6 py-3"},ue={class:"w-36 px-6 py-3"},ce={class:"w-36 px-6 py-3"},_e={class:"w-36 px-6 py-3"},ie={class:"w-36 px-6 py-3"},me={class:"w-36 px-6 py-3"},pe={class:"px-6 py-4"},he={class:"px-6 py-4"},ye={key:0},ve={key:1},ge={class:"px-6 py-4"},fe={key:0},ke={key:1},Ve={class:"px-6 py-4"},we={key:0},be={key:1},Me={class:"px-6 py-4"},$e={key:0},We={key:1},Ce={class:"px-6 py-4"},De={key:0},xe={key:1},Be=$({__name:"HomeMeasurementTable",props:{homeMeasurements:{},showMeterValues:{type:Boolean}},setup(i){const{t:u,d:m}=W();return(e,c)=>(r(),V(I,{class:"rounded-md elevation-2"},{default:w(()=>[p(A,{class:"m-4 border"},{default:w(()=>[s("thead",ne,[s("tr",null,[s("th",de,a(t(u)("raw_data.date")),1),s("th",ue,a(t(u)("consumed_solar_energy")),1),s("th",ce,a(t(u)("consumed_energy")),1),s("th",_e,a(t(u)("raw_data.produced_solar_energy")),1),s("th",ie,a(t(u)("raw_data.imported_energy")),1),s("th",me,a(t(u)("raw_data.exported_energy")),1)])]),s("tbody",null,[(r(!0),n(T,null,P(e.homeMeasurements,(o,l)=>(r(),n("tr",{key:o.id,class:"border-b text-center"},[s("td",pe,a(t(m)(new Date(o.measurement_date))),1),s("td",he,[l<e.homeMeasurements.length-1?(r(),n("p",ye,a(t(_)(o.solar_consumed_energy-e.homeMeasurements[l+1].solar_consumed_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",ve,a(t(_)(o.solar_consumed_energy,"kWh")),1)):d("",!0)]),s("td",ge,[l<e.homeMeasurements.length-1?(r(),n("p",fe,a(t(_)(o.consumed_energy-e.homeMeasurements[l+1].consumed_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",ke,a(t(_)(o.consumed_energy,"kWh")),1)):d("",!0)]),s("td",Ve,[l<e.homeMeasurements.length-1?(r(),n("p",we,a(t(_)(o.solar_produced_energy-e.homeMeasurements[l+1].solar_produced_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",be,a(t(_)(o.solar_produced_energy,"kWh")),1)):d("",!0)]),s("td",Me,[l<e.homeMeasurements.length-1?(r(),n("p",$e,a(t(_)(o.grid_imported_energy-e.homeMeasurements[l+1].grid_imported_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",We,a(t(_)(o.grid_imported_energy,"kWh")),1)):d("",!0)]),s("td",Ce,[l<e.homeMeasurements.length-1?(r(),n("p",De,a(t(_)(o.grid_exported_energy-e.homeMeasurements[l+1].grid_exported_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",xe,a(t(_)(o.grid_exported_energy,"kWh")),1)):d("",!0)])]))),128))])]),_:1})]),_:1}))}});const Pe=F(Be,[["__scopeId","data-v-f1424c18"]]),Te={class:"bg-primary"},Ie={class:"w-24 px-6 py-3"},Ae={class:"w-36 px-6 py-3"},Fe={class:"w-36 px-6 py-3"},Ue={class:"px-6 py-4"},Ne={class:"px-6 py-4"},He={key:0},Le={key:1},Re={class:"px-6 py-4"},Se={key:0},je={key:1},qe=$({__name:"DeviceMeasurementTable",props:{deviceMeasurements:{},showMeterValues:{type:Boolean}},setup(i){const{t:u,d:m}=W();return(e,c)=>(r(),V(I,{class:"rounded-md elevation-2"},{default:w(()=>[p(A,{class:"m-4 rounded-md border"},{default:w(()=>[s("thead",Te,[s("tr",null,[s("th",Ie,a(t(u)("raw_data.date")),1),s("th",Ae,a(t(u)("consumed_solar_energy")),1),s("th",Fe,a(t(u)("consumed_energy")),1)])]),s("tbody",null,[(r(!0),n(T,null,P(e.deviceMeasurements,(o,l)=>(r(),n("tr",{key:o.id,class:"border-b text-center"},[s("td",Ue,a(t(m)(new Date(o.measurement_date))),1),s("td",Ne,[l<e.deviceMeasurements.length-1?(r(),n("p",He,a(t(_)(o.solar_consumed_energy-e.deviceMeasurements[l+1].solar_consumed_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",Le,a(t(_)(o.solar_consumed_energy,"kWh")),1)):d("",!0)]),s("td",Re,[l<e.deviceMeasurements.length-1?(r(),n("p",Se,a(t(_)(o.consumed_energy-e.deviceMeasurements[l+1].consumed_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),n("p",je,a(t(_)(o.consumed_energy,"kWh")),1)):d("",!0)])]))),128))])]),_:1})]),_:1}))}});const ze=F(qe,[["__scopeId","data-v-ff3f6c69"]]),Ee={class:"v-full flex min-h-screen justify-center p-4 bg-background"},Je={key:0,class:"grid h-full w-full grid-cols-1 justify-items-center"},Ke=s("span",{class:"loading loading-dots loading-lg py-2"},null,-1),Oe=[Ke],Qe={key:1},Ge={class:"my-4 flex"},hs=$({__name:"RawData",setup(i){const{t:u}=W(),m=g(),e=g(),c=g(),o=g(!1),l=g(""),h=g(!1),k=async function(y){o.value=!0,e.value=await M.getAllHomeMeasurements(),m.value=y!=""?await M.getDeviceMeasurements(y):[],o.value=!1};return G(l,()=>{console.log("Change selection: "+l.value),k(l.value)}),X(async()=>{c.value=await M.getAllDevices(),c.value.length>0&&(l.value=c.value[0].id,console.log("Load in on mounted: "+c.value[0].id),k(c.value[0].id))}),(y,v)=>(r(),n("div",null,[p(Y,{color:"transparent",title:y.$t("app.rawdata")},null,8,["title"]),p(Z),s("div",Ee,[o.value?(r(),n("div",Je,Oe)):(r(),n("div",Qe,[e.value?(r(),V(Pe,{key:0,"home-measurements":e.value,"show-meter-values":h.value},null,8,["home-measurements","show-meter-values"])):d("",!0),p(se,{modelValue:l.value,"onUpdate:modelValue":v[0]||(v[0]=f=>l.value=f),class:"my-4 bg-surface rounded-md",items:c.value?c.value:[],"item-title":"name","item-value":"id","single-line":""},null,8,["modelValue","items"]),m.value?(r(),V(ze,{key:1,"device-measurements":m.value,"show-meter-values":h.value},null,8,["device-measurements","show-meter-values"])):d("",!0),s("div",Ge,[p(le,{modelValue:h.value,"onUpdate:modelValue":v[1]||(v[1]=f=>h.value=f),label:t(u)("raw_data.show_meter_values")},null,8,["modelValue","label"])])]))])]))}});export{hs as default};
